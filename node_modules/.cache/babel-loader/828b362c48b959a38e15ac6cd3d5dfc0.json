{"ast":null,"code":"import _slicedToArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ** React Imports\nimport{useEffect,useState}from'react';// ** Third Party Components\nimport axios from'axios';import classnames from'classnames';import*as Icon from'react-feather';import{NavItem,NavLink}from'reactstrap';// ** Store & Actions\nimport{useDispatch}from'react-redux';import{handleSearchQuery}from'@Store/actions/navbar';// ** Custom Components\nimport Autocomplete from'@Components/autocomplete';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavbarSearch=function NavbarSearch(){// ** Store Vars\nvar dispatch=useDispatch();// ** States\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),suggestions=_useState2[0],setSuggestions=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),navbarSearch=_useState4[0],setNavbarSearch=_useState4[1];// ** ComponentDidMount\nuseEffect(function(){axios.get('/api/main-search/data').then(function(_ref){var data=_ref.data;(data===null||data===void 0?void 0:data.searchArr)&&setSuggestions(data===null||data===void 0?void 0:data.searchArr);});},[]);// ** Removes query in store\nvar handleClearQueryInStore=function handleClearQueryInStore(){return dispatch(handleSearchQuery(''));};// ** Function to handle external Input click\nvar handleExternalClick=function handleExternalClick(){if(navbarSearch===true){setNavbarSearch(false);handleClearQueryInStore();}};// ** Function to clear input value\nvar handleClearInput=function handleClearInput(setUserInput){if(!navbarSearch){setUserInput('');handleClearQueryInStore();}};// ** Function to close search on ESC & ENTER Click\nvar onKeyDown=function onKeyDown(e){if(e.keyCode===27||e.keyCode===13){setTimeout(function(){setNavbarSearch(false);handleClearQueryInStore();},1);}};// ** Function to handle search suggestion Click\nvar handleSuggestionItemClick=function handleSuggestionItemClick(){setNavbarSearch(false);handleClearQueryInStore();};// ** Function to handle search list Click\nvar handleListItemClick=function handleListItemClick(func,link,e){func(link,e);setTimeout(function(){setNavbarSearch(false);},1);handleClearQueryInStore();};return/*#__PURE__*/_jsxs(NavItem,{className:\"nav-search\",onClick:function onClick(){return setNavbarSearch(true);},children:[/*#__PURE__*/_jsx(NavLink,{className:\"nav-link-search\",children:/*#__PURE__*/_jsx(Icon.Search,{className:\"ficon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classnames('search-input',{open:navbarSearch===true}),children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-input-icon\",children:/*#__PURE__*/_jsx(Icon.Search,{})}),navbarSearch?/*#__PURE__*/_jsx(Autocomplete,{className:\"form-control\",suggestions:suggestions,filterKey:\"title\",filterHeaderKey:\"groupTitle\",grouped:true,placeholder:\"Explore Vuexy...\",autoFocus:true,onSuggestionItemClick:handleSuggestionItemClick,externalClick:handleExternalClick,clearInput:function clearInput(userInput,setUserInput){return handleClearInput(setUserInput);},onKeyDown:onKeyDown,onChange:function onChange(e){return dispatch(handleSearchQuery(e.target.value));},customRender:function customRender(item,i,filteredData,activeSuggestion,onSuggestionItemClick,onSuggestionItemHover){var IconTag=Icon[item.icon?item.icon:'X'];return/*#__PURE__*/_jsx(\"li\",{className:classnames('suggestion-item',{active:filteredData.indexOf(item)===activeSuggestion}),onClick:function onClick(e){return handleListItemClick(onSuggestionItemClick,item.link,e);},onMouseEnter:function onMouseEnter(){return onSuggestionItemHover(filteredData.indexOf(item));},children:/*#__PURE__*/_jsxs(\"div\",{className:classnames({'d-flex justify-content-between align-items-center':item.file||item.img}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-container d-flex\",children:[item.icon?/*#__PURE__*/_jsx(IconTag,{size:17}):item.file?/*#__PURE__*/_jsx(\"img\",{src:item.file,height:\"36\",width:\"28\",alt:item.title}):item.img?/*#__PURE__*/_jsx(\"img\",{className:\"rounded-circle mt-25\",src:item.img,height:\"28\",width:\"28\",alt:item.title}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"item-info ml-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"align-middle mb-0\",children:item.title}),item.by||item.email?/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:item.by?item.by:item.email?item.email:null}):null]})]}),item.size||item.date?/*#__PURE__*/_jsx(\"div\",{className:\"meta-container\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:item.size?item.size:item.date?item.date:null})}):null]})},i);}}):null,/*#__PURE__*/_jsx(\"div\",{className:\"search-input-close\",children:/*#__PURE__*/_jsx(Icon.X,{className:\"ficon\",onClick:function onClick(e){e.stopPropagation();setNavbarSearch(false);handleClearQueryInStore();}})})]})]});};export default NavbarSearch;","map":{"version":3,"names":["useEffect","useState","axios","classnames","Icon","NavItem","NavLink","useDispatch","handleSearchQuery","Autocomplete","NavbarSearch","dispatch","suggestions","setSuggestions","navbarSearch","setNavbarSearch","get","then","data","searchArr","handleClearQueryInStore","handleExternalClick","handleClearInput","setUserInput","onKeyDown","e","keyCode","setTimeout","handleSuggestionItemClick","handleListItemClick","func","link","open","userInput","target","value","item","i","filteredData","activeSuggestion","onSuggestionItemClick","onSuggestionItemHover","IconTag","icon","active","indexOf","file","img","title","by","email","size","date","stopPropagation"],"sources":["/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/src/@core/layouts/components/navbar/NavbarSearch.js"],"sourcesContent":["// ** React Imports\nimport { useEffect, useState } from 'react'\n\n// ** Third Party Components\nimport axios from 'axios'\nimport classnames from 'classnames'\nimport * as Icon from 'react-feather'\nimport { NavItem, NavLink } from 'reactstrap'\n\n// ** Store & Actions\nimport { useDispatch } from 'react-redux'\nimport { handleSearchQuery } from '@Store/actions/navbar'\n\n// ** Custom Components\nimport Autocomplete from '@Components/autocomplete'\n\nconst NavbarSearch = () => {\n  // ** Store Vars\n  const dispatch = useDispatch()\n\n  // ** States\n  const [suggestions, setSuggestions] = useState([])\n  const [navbarSearch, setNavbarSearch] = useState(false)\n\n  // ** ComponentDidMount\n  useEffect(() => {\n    axios.get('/api/main-search/data').then(({ data }) => {\n     data?.searchArr&& setSuggestions(data?.searchArr)\n    })\n  }, [])\n\n  // ** Removes query in store\n  const handleClearQueryInStore = () => dispatch(handleSearchQuery(''))\n\n  // ** Function to handle external Input click\n  const handleExternalClick = () => {\n    if (navbarSearch === true) {\n      setNavbarSearch(false)\n      handleClearQueryInStore()\n    }\n  }\n\n  // ** Function to clear input value\n  const handleClearInput = setUserInput => {\n    if (!navbarSearch) {\n      setUserInput('')\n      handleClearQueryInStore()\n    }\n  }\n\n  // ** Function to close search on ESC & ENTER Click\n  const onKeyDown = e => {\n    if (e.keyCode === 27 || e.keyCode === 13) {\n      setTimeout(() => {\n        setNavbarSearch(false)\n        handleClearQueryInStore()\n      }, 1)\n    }\n  }\n\n  // ** Function to handle search suggestion Click\n  const handleSuggestionItemClick = () => {\n    setNavbarSearch(false)\n    handleClearQueryInStore()\n  }\n\n  // ** Function to handle search list Click\n  const handleListItemClick = (func, link, e) => {\n    func(link, e)\n    setTimeout(() => {\n      setNavbarSearch(false)\n    }, 1)\n    handleClearQueryInStore()\n  }\n\n  return (\n    <NavItem className='nav-search' onClick={() => setNavbarSearch(true)}>\n      <NavLink className='nav-link-search'>\n        <Icon.Search className='ficon' />\n      </NavLink>\n      <div\n        className={classnames('search-input', {\n          open: navbarSearch === true\n        })}\n      >\n        <div className='search-input-icon'>\n          <Icon.Search />\n        </div>\n        {navbarSearch ? (\n          <Autocomplete\n            className='form-control'\n            suggestions={suggestions}\n            filterKey='title'\n            filterHeaderKey='groupTitle'\n            grouped={true}\n            placeholder='Explore Vuexy...'\n            autoFocus={true}\n            onSuggestionItemClick={handleSuggestionItemClick}\n            externalClick={handleExternalClick}\n            clearInput={(userInput, setUserInput) => handleClearInput(setUserInput)}\n            onKeyDown={onKeyDown}\n            onChange={e => dispatch(handleSearchQuery(e.target.value))}\n            customRender={(item, i, filteredData, activeSuggestion, onSuggestionItemClick, onSuggestionItemHover) => {\n              const IconTag = Icon[item.icon ? item.icon : 'X']\n              return (\n                <li\n                  className={classnames('suggestion-item', {\n                    active: filteredData.indexOf(item) === activeSuggestion\n                  })}\n                  key={i}\n                  onClick={e => handleListItemClick(onSuggestionItemClick, item.link, e)}\n                  onMouseEnter={() => onSuggestionItemHover(filteredData.indexOf(item))}\n                >\n                  <div\n                    className={classnames({\n                      'd-flex justify-content-between align-items-center': item.file || item.img\n                    })}\n                  >\n                    <div className='item-container d-flex'>\n                      {item.icon ? (\n                        <IconTag size={17} />\n                      ) : item.file ? (\n                        <img src={item.file} height='36' width='28' alt={item.title} />\n                      ) : item.img ? (\n                        <img className='rounded-circle mt-25' src={item.img} height='28' width='28' alt={item.title} />\n                      ) : null}\n                      <div className='item-info ml-1'>\n                        <p className='align-middle mb-0'>{item.title}</p>\n                        {item.by || item.email ? (\n                          <small className='text-muted'>{item.by ? item.by : item.email ? item.email : null}</small>\n                        ) : null}\n                      </div>\n                    </div>\n                    {item.size || item.date ? (\n                      <div className='meta-container'>\n                        <small className='text-muted'>{item.size ? item.size : item.date ? item.date : null}</small>\n                      </div>\n                    ) : null}\n                  </div>\n                </li>\n              )\n            }}\n          />\n        ) : null}\n        <div className='search-input-close'>\n          <Icon.X\n            className='ficon'\n            onClick={e => {\n              e.stopPropagation()\n              setNavbarSearch(false)\n              handleClearQueryInStore()\n            }}\n          />\n        </div>\n      </div>\n    </NavItem>\n  )\n}\n\nexport default NavbarSearch\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}