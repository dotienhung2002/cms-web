{"ast":null,"code":"import _defineProperty from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import axios from'axios';import classnames from'classnames';import{Card,CardHeader,CardTitle,CardBody,UncontrolledDropdown,DropdownMenu,DropdownItem,DropdownToggle}from'reactstrap';import Chart from'react-apexcharts';import*as Icon from'react-feather';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SessionByDevice=function SessionByDevice(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){axios.get('/card/card-analytics/sessions-device').then(function(res){return setData(res.data);});},[]);var options={chart:{toolbar:{show:false}},labels:['Desktop','Mobile','Tablet'],dataLabels:{enabled:false},legend:{show:false},comparedResult:[2,-3,8],stroke:{width:0},colors:[props.primary,props.warning,props.danger]},series=[58.6,34.9,6.5];var renderChartInfo=function renderChartInfo(){return data.chart_info.map(function(item,index){var IconTag=Icon[item.icon];return/*#__PURE__*/_jsxs(\"div\",{className:classnames('d-flex justify-content-between',{'mb-1':index!==data.chart_info.length-1}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(IconTag,{size:17,className:classnames(_defineProperty({},item.iconColor,item.iconColor))}),/*#__PURE__*/_jsx(\"span\",{className:\"font-weight-bold ml-75 mr-25\",children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"- \",item.usage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.upDown,\"%\"]}),item.upDown>0?/*#__PURE__*/_jsx(Icon.ArrowUp,{size:14,className:\"ml-25 text-success\"}):/*#__PURE__*/_jsx(Icon.ArrowDown,{size:14,className:\"ml-25 text-danger\"})]})]},index);});};return data!==null?/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"align-items-end\",children:[/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Session By Device\"}),/*#__PURE__*/_jsxs(UncontrolledDropdown,{className:\"chart-dropdown\",children:[/*#__PURE__*/_jsx(DropdownToggle,{color:\"\",className:\"bg-transparent btn-sm border-0 p-50\",children:\"Last 7 days\"}),/*#__PURE__*/_jsx(DropdownMenu,{right:true,children:data.last_days.map(function(item){return/*#__PURE__*/_jsx(DropdownItem,{className:\"w-100\",children:item},item);})})]})]}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(Chart,{className:\"my-1\",options:options,series:series,type:\"donut\",height:300}),renderChartInfo()]})]}):null;};export default SessionByDevice;","map":{"version":3,"names":["useEffect","useState","axios","classnames","Card","CardHeader","CardTitle","CardBody","UncontrolledDropdown","DropdownMenu","DropdownItem","DropdownToggle","Chart","Icon","SessionByDevice","props","data","setData","get","then","res","options","chart","toolbar","show","labels","dataLabels","enabled","legend","comparedResult","stroke","width","colors","primary","warning","danger","series","renderChartInfo","chart_info","map","item","index","IconTag","icon","length","iconColor","name","usage","upDown","last_days"],"sources":["/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/src/views/ui-elements/cards/analytics/SessionByDevice.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport classnames from 'classnames'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from 'reactstrap'\nimport Chart from 'react-apexcharts'\nimport * as Icon from 'react-feather'\n\nconst SessionByDevice = props => {\n  const [data, setData] = useState(null)\n\n  useEffect(() => {\n    axios.get('/card/card-analytics/sessions-device').then(res => setData(res.data))\n  }, [])\n\n  const options = {\n      chart: {\n        toolbar: {\n          show: false\n        }\n      },\n      labels: ['Desktop', 'Mobile', 'Tablet'],\n      dataLabels: {\n        enabled: false\n      },\n      legend: { show: false },\n      comparedResult: [2, -3, 8],\n      stroke: { width: 0 },\n      colors: [props.primary, props.warning, props.danger]\n    },\n    series = [58.6, 34.9, 6.5]\n\n  const renderChartInfo = () => {\n    return data.chart_info.map((item, index) => {\n      const IconTag = Icon[item.icon]\n      return (\n        <div\n          key={index}\n          className={classnames('d-flex justify-content-between', {\n            'mb-1': index !== data.chart_info.length - 1\n          })}\n        >\n          <div className='d-flex align-items-center'>\n            <IconTag\n              size={17}\n              className={classnames({\n                [item.iconColor]: item.iconColor\n              })}\n            />\n            <span className='font-weight-bold ml-75 mr-25'>{item.name}</span>\n            <span>- {item.usage}%</span>\n          </div>\n          <div>\n            <span>{item.upDown}%</span>\n            {item.upDown > 0 ? (\n              <Icon.ArrowUp size={14} className='ml-25 text-success' />\n            ) : (\n              <Icon.ArrowDown size={14} className='ml-25 text-danger' />\n            )}\n          </div>\n        </div>\n      )\n    })\n  }\n\n  return data !== null ? (\n    <Card>\n      <CardHeader className='align-items-end'>\n        <CardTitle tag='h4'>Session By Device</CardTitle>\n        <UncontrolledDropdown className='chart-dropdown'>\n          <DropdownToggle color='' className='bg-transparent btn-sm border-0 p-50'>\n            Last 7 days\n          </DropdownToggle>\n          <DropdownMenu right>\n            {data.last_days.map(item => (\n              <DropdownItem className='w-100' key={item}>\n                {item}\n              </DropdownItem>\n            ))}\n          </DropdownMenu>\n        </UncontrolledDropdown>\n      </CardHeader>\n      <CardBody>\n        <Chart className='my-1' options={options} series={series} type='donut' height={300} />\n        {renderChartInfo()}\n      </CardBody>\n    </Card>\n  ) : null\n}\nexport default SessionByDevice\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}