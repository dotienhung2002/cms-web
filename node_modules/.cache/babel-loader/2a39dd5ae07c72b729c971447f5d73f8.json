{"ast":null,"code":"import _toConsumableArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useState,useEffect}from'react';import axios from'axios';import*as Icon from'react-feather';import classnames from'classnames';import{Link,useParams}from'react-router-dom';import Breadcrumbs from'@Components/breadcrumbs';import KnowledgeBaseHeader from'./KnowledgeBaseHeader';import{Row,Col,Card,CardBody,ListGroup,ListGroupItem}from'reactstrap';import'@Styles/base/pages/page-knowledge-base.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var KnowledgeBaseCategory=function KnowledgeBaseCategory(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1],_useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredData=_useState4[0],setFilteredData=_useState4[1],_useState5=useState(''),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];useEffect(function(){axios.get('/faq/data/category').then(function(res){return setData(res.data);});},[]);var params=useParams();var Content=function Content(_ref){var item=_ref.item;var IconTag=Icon[item.icon];return/*#__PURE__*/_jsx(Col,{className:\"kb-search-content\",md:\"4\",sm:\"6\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"kb-title\",children:[/*#__PURE__*/_jsx(IconTag,{size:20,className:classnames('mr-50',_defineProperty({},item.iconColor,item.iconColor))}),/*#__PURE__*/_jsxs(\"span\",{children:[item.title,\" \",\"(\".concat(item.questions.length,\")\")]})]}),/*#__PURE__*/_jsx(ListGroup,{className:\"list-group-circle mt-2\",children:item.questions.map(function(listItem){return/*#__PURE__*/_jsx(ListGroupItem,{tag:Link,to:\"/pages/knowledge-base/\".concat(params.category,\"/\").concat(listItem.slug),className:\"text-body\",children:listItem.question},listItem.id);})})]})})});};var renderContent=function renderContent(){var dataToMap=searchTerm.length?filteredData:data;return dataToMap.map(function(item){return/*#__PURE__*/_jsx(Content,{item:item},item.id);});};var handleFilter=function handleFilter(e){var value=e.target.value,knowledgeBaseSearchQueryLower=e.target.value.toLowerCase();setSearchTerm(e.target.value);var arr=[];if(value.length){arr=data.filter(function(item){return item.title.toLowerCase().includes(knowledgeBaseSearchQueryLower)||item.questions.filter(function(queObj){return queObj.question.toLowerCase().includes(knowledgeBaseSearchQueryLower);}).length;});}setFilteredData(_toConsumableArray(arr));};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Breadcrumbs,{breadCrumbTitle:\"Knowledge Base\",breadCrumbParent:\"Pages\",breadCrumbParent2:\"Knowledge Base\",breadCrumbActive:\"Category\"}),/*#__PURE__*/_jsx(KnowledgeBaseHeader,{searchTerm:searchTerm,setSearchTerm:setSearchTerm,handleFilter:handleFilter}),data!==null?/*#__PURE__*/_jsx(\"div\",{id:\"knowledge-base-category\",children:/*#__PURE__*/_jsx(Row,{className:\"kb-search-content-info match-height\",children:renderContent()})}):null]});};export default KnowledgeBaseCategory;","map":{"version":3,"names":["Fragment","useState","useEffect","axios","Icon","classnames","Link","useParams","Breadcrumbs","KnowledgeBaseHeader","Row","Col","Card","CardBody","ListGroup","ListGroupItem","KnowledgeBaseCategory","data","setData","filteredData","setFilteredData","searchTerm","setSearchTerm","get","then","res","params","Content","item","IconTag","icon","iconColor","title","questions","length","map","listItem","category","slug","question","id","renderContent","dataToMap","handleFilter","e","value","target","knowledgeBaseSearchQueryLower","toLowerCase","arr","filter","includes","queObj"],"sources":["/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/src/views/pages/knowledge-base/KnowledgeBaseCategory.js"],"sourcesContent":["import { Fragment, useState, useEffect } from 'react'\nimport axios from 'axios'\nimport * as Icon from 'react-feather'\nimport classnames from 'classnames'\nimport { Link, useParams } from 'react-router-dom'\nimport Breadcrumbs from '@Components/breadcrumbs'\nimport KnowledgeBaseHeader from './KnowledgeBaseHeader'\nimport { Row, Col, Card, CardBody, ListGroup, ListGroupItem } from 'reactstrap'\n\nimport '@Styles/base/pages/page-knowledge-base.scss'\n\nconst KnowledgeBaseCategory = () => {\n  const [data, setData] = useState(null),\n    [filteredData, setFilteredData] = useState([]),\n    [searchTerm, setSearchTerm] = useState('')\n\n  useEffect(() => {\n    axios.get('/faq/data/category').then(res => setData(res.data))\n  }, [])\n\n  const params = useParams()\n\n  const Content = ({ item }) => {\n    const IconTag = Icon[item.icon]\n    return (\n      <Col className='kb-search-content' md='4' sm='6'>\n        <Card>\n          <CardBody>\n            <h6 className='kb-title'>\n              <IconTag\n                size={20}\n                className={classnames('mr-50', {\n                  [item.iconColor]: item.iconColor\n                })}\n              />\n              <span>\n                {item.title} {`(${item.questions.length})`}\n              </span>\n            </h6>\n            <ListGroup className='list-group-circle mt-2'>\n              {item.questions.map(listItem => (\n                <ListGroupItem\n                  tag={Link}\n                  to={`/pages/knowledge-base/${params.category}/${listItem.slug}`}\n                  className='text-body'\n                  key={listItem.id}\n                >\n                  {listItem.question}\n                </ListGroupItem>\n              ))}\n            </ListGroup>\n          </CardBody>\n        </Card>\n      </Col>\n    )\n  }\n\n  const renderContent = () => {\n    const dataToMap = searchTerm.length ? filteredData : data\n\n    return dataToMap.map(item => <Content key={item.id} item={item} />)\n  }\n\n  const handleFilter = e => {\n    const value = e.target.value,\n      knowledgeBaseSearchQueryLower = e.target.value.toLowerCase()\n\n    setSearchTerm(e.target.value)\n\n    let arr = []\n\n    if (value.length) {\n      arr = data.filter(item => {\n        return (\n          item.title.toLowerCase().includes(knowledgeBaseSearchQueryLower) ||\n          item.questions.filter(queObj => queObj.question.toLowerCase().includes(knowledgeBaseSearchQueryLower)).length\n        )\n      })\n    }\n\n    setFilteredData([...arr])\n  }\n\n  return (\n    <Fragment>\n      <Breadcrumbs\n        breadCrumbTitle='Knowledge Base'\n        breadCrumbParent='Pages'\n        breadCrumbParent2='Knowledge Base'\n        breadCrumbActive='Category'\n      />\n      <KnowledgeBaseHeader searchTerm={searchTerm} setSearchTerm={setSearchTerm} handleFilter={handleFilter} />\n      {data !== null ? (\n        <div id='knowledge-base-category'>\n          <Row className='kb-search-content-info match-height'>{renderContent()}</Row>\n        </div>\n      ) : null}\n    </Fragment>\n  )\n}\n\nexport default KnowledgeBaseCategory\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}