{"ast":null,"code":"import React, { useContext, createContext, useRef, useEffect, Children, cloneElement, useReducer, useState } from 'react';\nimport cx from 'clsx';\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nvar Context = /*#__PURE__*/createContext({});\n/**\r\n * Access parent ref tracker.\r\n */\n\nfunction useRefTrackerContext() {\n  return useContext(Context);\n}\nvar RefTrackerProvider = function RefTrackerProvider(props) {\n  return React.createElement(Context.Provider, {\n    value: props.refTracker\n  }, props.children);\n};\nfunction createEventManager() {\n  var eventList = new Map();\n  return {\n    on: function on(event, handler) {\n      var _eventList$get;\n\n      //eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      eventList.has(event) ? (_eventList$get = eventList.get(event)) == null ? void 0 : _eventList$get.add(handler) : eventList.set(event, new Set([handler]));\n      return this;\n    },\n    off: function off(event, handler) {\n      handler ? eventList.get(event)[\"delete\"](handler) : eventList[\"delete\"](event);\n      return this;\n    },\n    emit: function emit(event, args) {\n      if (process.env.NODE !== 'production') {\n        var currentEv = event;\n        if (!eventList.has(event) && currentEv !== 0\n        /* HIDE_ALL */) {\n          console.error(\"It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.\", \"You used the menu id: \" + event);\n        }\n      }\n      eventList.has(event) && eventList.get(event).forEach(function (handler) {\n        handler(args);\n      });\n      return this;\n    }\n  };\n}\nvar eventManager = /*#__PURE__*/createEventManager();\nfunction usePrevious(value) {\n  var ref = useRef();\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n\n/**\r\n * Used to store children refs\r\n */\n\nfunction useRefTracker() {\n  return useRef(new Map()).current;\n}\nvar contextMenu = {\n  show: function show(_ref) {\n    var id = _ref.id,\n      event = _ref.event,\n      props = _ref.props,\n      position = _ref.position;\n    if (event.preventDefault) event.preventDefault();\n    eventManager.emit(0\n    /* HIDE_ALL */).emit(id, {\n      event: event.nativeEvent || event,\n      props: props,\n      position: position\n    });\n  },\n  hideAll: function hideAll() {\n    eventManager.emit(0\n    /* HIDE_ALL */);\n  }\n};\n\nfunction useContextMenu(props) {\n  return {\n    show: function show(event, params) {\n      if (process.env.NODE_ENV === 'development') {\n        if (!(props == null ? void 0 : props.id) && !(params == null ? void 0 : params.id)) console.error(\"You need to provide an id when initializing the hook `useContextMenu({ id: 'your id' })` or when you display the menu `show(e, { id: 'your id' })`. The later is used to override the one defined during initialization.\");\n      }\n      contextMenu.show({\n        id: (params == null ? void 0 : params.id) || (props == null ? void 0 : props.id),\n        props: (params == null ? void 0 : params.props) || (props == null ? void 0 : props.props),\n        event: event,\n        position: params == null ? void 0 : params.position\n      });\n    },\n    hideAll: function hideAll() {\n      contextMenu.hideAll();\n    }\n  };\n}\n\n/**\r\n * Used to control keyboard navigation\r\n */\nfunction createMenuController() {\n  var menuList = new Map();\n  var focusedIndex;\n  var parentNode;\n  var isAtRoot;\n  var currentItems;\n  var forceCloseSubmenu = false;\n  function init(rootMenu) {\n    currentItems = rootMenu;\n    focusedIndex = -1;\n    isAtRoot = true;\n  }\n  function focusSelectedItem() {\n    currentItems[focusedIndex].node.focus();\n  }\n  function isSubmenuFocused() {\n    return focusedIndex >= 0 && currentItems[focusedIndex].isSubmenu;\n  }\n  function getSubmenuItems() {\n    return Array.from(currentItems[focusedIndex].submenuRefTracker.values());\n  }\n  function isFocused() {\n    if (focusedIndex === -1) {\n      // focus first item\n      moveDown();\n      return false;\n    }\n    return true;\n  }\n  function moveDown() {\n    if (focusedIndex + 1 < currentItems.length) {\n      focusedIndex++;\n    } else if (focusedIndex + 1 === currentItems.length) {\n      focusedIndex = 0;\n    }\n    if (forceCloseSubmenu) closeSubmenu();\n    focusSelectedItem();\n  }\n  function moveUp() {\n    if (focusedIndex === -1 || focusedIndex === 0) {\n      focusedIndex = currentItems.length - 1;\n    } else if (focusedIndex - 1 < currentItems.length) {\n      focusedIndex--;\n    }\n    if (forceCloseSubmenu) closeSubmenu();\n    focusSelectedItem();\n  }\n  function openSubmenu() {\n    if (isFocused() && isSubmenuFocused()) {\n      var submenuItems = getSubmenuItems();\n      var currentNode = currentItems[focusedIndex].node;\n      menuList.set(currentNode, {\n        isRoot: isAtRoot,\n        focusedIndex: focusedIndex,\n        parentNode: parentNode || currentNode,\n        items: currentItems\n      });\n      currentNode.classList.add(\"react-contexify__submenu--is-open\"\n      /* submenuOpen */);\n\n      parentNode = currentNode;\n      if (submenuItems.length > 0) {\n        focusedIndex = 0;\n        currentItems = submenuItems;\n      } else {\n        forceCloseSubmenu = true;\n      }\n      isAtRoot = false;\n      focusSelectedItem();\n      return true;\n    }\n    return false;\n  }\n  function closeSubmenu() {\n    if (isFocused() && !isAtRoot) {\n      var _menuList$get = menuList.get(parentNode),\n        isRoot = _menuList$get.isRoot,\n        items = _menuList$get.items,\n        parentFocusedIndex = _menuList$get.focusedIndex,\n        menuParentNode = _menuList$get.parentNode;\n      parentNode.classList.remove(\"react-contexify__submenu--is-open\"\n      /* submenuOpen */);\n\n      currentItems = items;\n      parentNode = menuParentNode;\n      if (isRoot) {\n        isAtRoot = true;\n        menuList.clear();\n      }\n      if (!forceCloseSubmenu) {\n        focusedIndex = parentFocusedIndex;\n        focusSelectedItem();\n      }\n    }\n  }\n  return {\n    init: init,\n    moveDown: moveDown,\n    moveUp: moveUp,\n    openSubmenu: openSubmenu,\n    closeSubmenu: closeSubmenu\n  };\n}\nvar theme = {\n  light: 'light',\n  dark: 'dark'\n};\nvar animation = {\n  fade: 'fade',\n  flip: 'flip',\n  scale: 'scale',\n  slide: 'slide'\n};\nvar NOOP = function NOOP() {};\nfunction isFn(v) {\n  return typeof v === 'function';\n}\nfunction isStr(v) {\n  return typeof v === 'string';\n}\nfunction isTouchEvent(e) {\n  return e.type === 'touchend';\n}\nfunction cloneItems(children, props) {\n  return Children.map(\n  // remove null item\n  Children.toArray(children).filter(Boolean), function (item) {\n    return cloneElement(item, props);\n  });\n}\nfunction getMousePosition(e) {\n  var pos = {\n    x: 0,\n    y: 0\n  };\n  if (isTouchEvent(e) && e.changedTouches && e.changedTouches.length > 0) {\n    pos.x = e.changedTouches[0].clientX;\n    pos.y = e.changedTouches[0].clientY;\n  } else {\n    pos.x = e.clientX;\n    pos.y = e.clientY;\n  }\n  if (!pos.x || pos.x < 0) pos.x = 0;\n  if (!pos.y || pos.y < 0) pos.y = 0;\n  return pos;\n}\nfunction getPredicateValue(predicate, payload) {\n  return isFn(predicate) ? predicate(payload) : predicate;\n}\nfunction hasExitAnimation(animation) {\n  return !!(animation && (isStr(animation) || 'exit' in animation && animation.exit));\n}\nfunction reducer(state, payload) {\n  return isFn(payload) ? _extends({}, state, payload(state)) : _extends({}, state, payload);\n}\nvar Menu = function Menu(_ref) {\n  var _cx3;\n  var id = _ref.id,\n    theme = _ref.theme,\n    style = _ref.style,\n    className = _ref.className,\n    children = _ref.children,\n    _ref$animation = _ref.animation,\n    animation = _ref$animation === void 0 ? 'scale' : _ref$animation,\n    _ref$onHidden = _ref.onHidden,\n    onHidden = _ref$onHidden === void 0 ? NOOP : _ref$onHidden,\n    _ref$onShown = _ref.onShown,\n    onShown = _ref$onShown === void 0 ? NOOP : _ref$onShown,\n    rest = _objectWithoutPropertiesLoose(_ref, [\"id\", \"theme\", \"style\", \"className\", \"children\", \"animation\", \"onHidden\", \"onShown\"]);\n  var _useReducer = useReducer(reducer, {\n      x: 0,\n      y: 0,\n      visible: false,\n      triggerEvent: {},\n      propsFromTrigger: null,\n      willLeave: false\n    }),\n    state = _useReducer[0],\n    setState = _useReducer[1];\n  var nodeRef = useRef(null);\n  var didMount = useRef(false);\n  var wasVisible = usePrevious(state.visible);\n  var refTracker = useRefTracker();\n  var _useState = useState(function () {\n      return createMenuController();\n    }),\n    menuController = _useState[0]; // subscribe event manager\n\n  useEffect(function () {\n    didMount.current = true;\n    eventManager.on(id, show).on(0\n    /* HIDE_ALL */, hide);\n    return function () {\n      eventManager.off(id, show).off(0\n      /* HIDE_ALL */, hide);\n    }; // hide rely on setState(dispatch), which is guaranted to be the same across render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]); // handle show/ hide callback\n\n  useEffect(function () {\n    if (didMount.current && state.visible !== wasVisible) {\n      state.visible ? onShown() : onHidden();\n    } // wasWisible is a ref\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, onHidden, onShown]); // collect menu items for keyboard navigation\n\n  useEffect(function () {\n    if (!state.visible) {\n      refTracker.clear();\n    } else {\n      menuController.init(Array.from(refTracker.values()));\n    }\n  }, [state.visible, menuController, refTracker]); // compute menu position\n\n  useEffect(function () {\n    if (state.visible) {\n      var _window = window,\n        windowWidth = _window.innerWidth,\n        windowHeight = _window.innerHeight;\n      var _nodeRef$current = nodeRef.current,\n        menuWidth = _nodeRef$current.offsetWidth,\n        menuHeight = _nodeRef$current.offsetHeight;\n      var _x = state.x,\n        _y = state.y;\n      if (_x + menuWidth > windowWidth) {\n        _x -= _x + menuWidth - windowWidth;\n      }\n      if (_y + menuHeight > windowHeight) {\n        _y -= _y + menuHeight - windowHeight;\n      }\n      setState({\n        x: _x,\n        y: _y\n      });\n    } // state.visible and state{x,y} are updated together\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible]); // subscribe dom events\n\n  useEffect(function () {\n    function handleKeyboard(e) {\n      e.preventDefault();\n      switch (e.key) {\n        case 'Enter':\n          if (!menuController.openSubmenu()) hide();\n          break;\n        case 'Escape':\n          hide();\n          break;\n        case 'ArrowUp':\n          menuController.moveUp();\n          break;\n        case 'ArrowDown':\n          menuController.moveDown();\n          break;\n        case 'ArrowRight':\n          menuController.openSubmenu();\n          break;\n        case 'ArrowLeft':\n          menuController.closeSubmenu();\n          break;\n      }\n    }\n    if (state.visible) {\n      window.addEventListener('resize', hide);\n      window.addEventListener('contextmenu', hide);\n      window.addEventListener('click', hide);\n      window.addEventListener('scroll', hide);\n      window.addEventListener('keydown', handleKeyboard); // This let us debug the menu in the console in dev mode\n\n      if (process.env.NODE_ENV !== 'development') {\n        window.addEventListener('blur', hide);\n      }\n    }\n    return function () {\n      window.removeEventListener('resize', hide);\n      window.removeEventListener('contextmenu', hide);\n      window.removeEventListener('click', hide);\n      window.removeEventListener('scroll', hide);\n      window.removeEventListener('keydown', handleKeyboard);\n      if (process.env.NODE_ENV !== 'development') {\n        window.removeEventListener('blur', hide);\n      }\n    }; // state.visible will let us get the right reference to `hide`\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, menuController]);\n  function show(_ref2) {\n    var event = _ref2.event,\n      props = _ref2.props,\n      position = _ref2.position;\n    event.stopPropagation();\n    var _ref3 = position || getMousePosition(event),\n      x = _ref3.x,\n      y = _ref3.y; // prevent react from batching the state update\n    // if the menu is already visible we have to recompute bounding rect based on position\n\n    setTimeout(function () {\n      setState({\n        visible: true,\n        willLeave: false,\n        x: x,\n        y: y,\n        triggerEvent: event,\n        propsFromTrigger: props\n      });\n    }, 0);\n  }\n  function hide(event) {\n    // Safari trigger a click event when you ctrl + trackpad\n    // Firefox:  trigger a click event when right click occur\n    var e = event;\n    if (typeof e !== 'undefined' && (e.button === 2 || e.ctrlKey === true) && e.type !== 'contextmenu') {\n      return;\n    }\n    hasExitAnimation(animation) ? setState(function (state) {\n      return {\n        willLeave: state.visible\n      };\n    }) : setState(function (state) {\n      return {\n        visible: state.visible ? false : state.visible\n      };\n    });\n  }\n  function handleAnimationEnd() {\n    if (state.willLeave && state.visible) {\n      setState({\n        visible: false,\n        willLeave: false\n      });\n    }\n  }\n  function computeAnimationClasses() {\n    if (!animation) return null;\n    if (isStr(animation)) {\n      var _cx;\n      return cx((_cx = {}, _cx[\"react-contexify__will-enter--\"\n      /* animationWillEnter */ + animation] = animation && visible && !willLeave, _cx[\"react-contexify__will-leave--\"\n      /* animationWillLeave */ + animation + \" \" + \"react-contexify__will-leave--\"\n      /* animationWillLeave */ + \"'disabled'\"] = animation && visible && willLeave, _cx));\n    } else if ('enter' in animation && 'exit' in animation) {\n      var _cx2;\n      return cx((_cx2 = {}, _cx2[\"react-contexify__will-enter--\"\n      /* animationWillEnter */ + animation.enter] = animation.enter && visible && !willLeave, _cx2[\"react-contexify__will-leave--\"\n      /* animationWillLeave */ + animation.exit + \" \" + \"react-contexify__will-leave--\"\n      /* animationWillLeave */ + \"'disabled'\"] = animation.exit && visible && willLeave, _cx2));\n    }\n    return null;\n  }\n  var visible = state.visible,\n    triggerEvent = state.triggerEvent,\n    propsFromTrigger = state.propsFromTrigger,\n    x = state.x,\n    y = state.y,\n    willLeave = state.willLeave;\n  var cssClasses = cx(\"react-contexify\"\n  /* menu */, className, (_cx3 = {}, _cx3[\"react-contexify__theme--\"\n  /* theme */ + theme] = theme, _cx3), computeAnimationClasses());\n  var menuStyle = _extends({}, style, {\n    left: x,\n    top: y,\n    opacity: 1\n  });\n  return React.createElement(RefTrackerProvider, {\n    refTracker: refTracker\n  }, visible && React.createElement(\"div\", Object.assign({}, rest, {\n    className: cssClasses,\n    onAnimationEnd: handleAnimationEnd,\n    style: menuStyle,\n    ref: nodeRef,\n    role: \"menu\"\n  }), cloneItems(children, {\n    propsFromTrigger: propsFromTrigger,\n    triggerEvent: triggerEvent\n  })));\n};\nvar Item = function Item(_ref) {\n  var _cx;\n  var children = _ref.children,\n    className = _ref.className,\n    style = _ref.style,\n    triggerEvent = _ref.triggerEvent,\n    data = _ref.data,\n    propsFromTrigger = _ref.propsFromTrigger,\n    _ref$onClick = _ref.onClick,\n    onClick = _ref$onClick === void 0 ? NOOP : _ref$onClick,\n    _ref$disabled = _ref.disabled,\n    disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n    _ref$hidden = _ref.hidden,\n    hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n    rest = _objectWithoutPropertiesLoose(_ref, [\"children\", \"className\", \"style\", \"triggerEvent\", \"data\", \"propsFromTrigger\", \"onClick\", \"disabled\", \"hidden\"]);\n  var refTracker = useRefTrackerContext();\n  var handlerParams = {\n    data: data,\n    triggerEvent: triggerEvent,\n    props: propsFromTrigger\n  };\n  var isDisabled = getPredicateValue(disabled, handlerParams);\n  var isHidden = getPredicateValue(hidden, handlerParams);\n  function handleClick(e) {\n    handlerParams.event = e;\n    isDisabled ? e.stopPropagation() : onClick(handlerParams);\n  }\n  function trackRef(node) {\n    if (node && !isDisabled) refTracker.set(node, {\n      node: node,\n      isSubmenu: false\n    });\n  }\n  function handleKeyDown(e) {\n    if (e.key === 'Enter') {\n      handlerParams.event = e;\n      onClick(handlerParams);\n    }\n  }\n  if (isHidden) return null;\n  var cssClasses = cx(\"react-contexify__item\"\n  /* item */, className, (_cx = {}, _cx[\"react-contexify__item--disabled\"\n  /* itemDisabled */] = isDisabled, _cx));\n  return React.createElement(\"div\", Object.assign({}, rest, {\n    className: cssClasses,\n    style: style,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown,\n    ref: trackRef,\n    tabIndex: -1,\n    role: \"menuitem\",\n    \"aria-disabled\": isDisabled\n  }), React.createElement(\"div\", {\n    className: \"react-contexify__item__content\"\n    /* itemContent */\n  }, children));\n};\nfunction Separator() {\n  return React.createElement(\"div\", {\n    className: \"react-contexify__separator\"\n    /* separator */\n  });\n}\n\nvar Submenu = function Submenu(_ref) {\n  var _cx;\n  var _ref$arrow = _ref.arrow,\n    arrow = _ref$arrow === void 0 ? '▶' : _ref$arrow,\n    children = _ref.children,\n    _ref$disabled = _ref.disabled,\n    disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n    _ref$hidden = _ref.hidden,\n    hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n    label = _ref.label,\n    className = _ref.className,\n    triggerEvent = _ref.triggerEvent,\n    propsFromTrigger = _ref.propsFromTrigger,\n    style = _ref.style,\n    rest = _objectWithoutPropertiesLoose(_ref, [\"arrow\", \"children\", \"disabled\", \"hidden\", \"label\", \"className\", \"triggerEvent\", \"propsFromTrigger\", \"style\"]);\n  var menuRefTracker = useRefTrackerContext();\n  var refTracker = useRefTracker();\n  var nodeRef = useRef(null);\n  var _useState = useState({\n      left: '100%',\n      top: 0,\n      bottom: 'initial'\n    }),\n    position = _useState[0],\n    setPosition = _useState[1];\n  var handlerParams = {\n    triggerEvent: triggerEvent,\n    props: propsFromTrigger\n  };\n  var isDisabled = getPredicateValue(disabled, handlerParams);\n  var isHidden = getPredicateValue(hidden, handlerParams);\n  useEffect(function () {\n    if (nodeRef.current) {\n      var _window = window,\n        innerWidth = _window.innerWidth,\n        innerHeight = _window.innerHeight;\n      var rect = nodeRef.current.getBoundingClientRect();\n      var _style = {};\n      if (rect.right < innerWidth) {\n        _style.left = '100%';\n        _style.right = undefined;\n      } else {\n        _style.right = '100%';\n        _style.left = undefined;\n      }\n      if (rect.bottom > innerHeight) {\n        _style.bottom = 0;\n        _style.top = 'initial';\n      } else {\n        _style.bottom = 'initial';\n      }\n      setPosition(_style);\n    }\n  }, []);\n  function handleClick(e) {\n    e.stopPropagation();\n  }\n  function trackRef(node) {\n    if (node && !isDisabled) menuRefTracker.set(node, {\n      node: node,\n      isSubmenu: true,\n      submenuRefTracker: refTracker\n    });\n  }\n  if (isHidden) return null;\n  var cssClasses = cx(\"react-contexify__item\"\n  /* item */, className, (_cx = {}, _cx[\"react-contexify__item--disabled\"\n  /* itemDisabled */] = isDisabled, _cx));\n  var submenuStyle = _extends({}, style, position);\n  return React.createElement(RefTrackerProvider, {\n    refTracker: refTracker\n  }, React.createElement(\"div\", Object.assign({}, rest, {\n    className: cssClasses,\n    ref: trackRef,\n    tabIndex: -1,\n    role: \"menuitem\",\n    \"aria-haspopup\": true,\n    \"aria-disabled\": isDisabled\n  }), React.createElement(\"div\", {\n    className: \"react-contexify__item__content\"\n    /* itemContent */,\n\n    onClick: handleClick\n  }, label, React.createElement(\"span\", {\n    className: \"react-contexify__submenu-arrow\"\n    /* submenuArrow */\n  }, arrow)), React.createElement(\"div\", {\n    className: \"react-contexify react-contexify__submenu\"\n    /* submenu */,\n\n    ref: nodeRef,\n    style: submenuStyle\n  }, cloneItems(children, {\n    propsFromTrigger: propsFromTrigger,\n    // injected by the parent\n    triggerEvent: triggerEvent\n  }))));\n};\nexport { Item, Menu, Separator, Submenu, animation, contextMenu, theme, useContextMenu };","map":{"version":3,"sources":["../src/components/RefTrackerProvider.tsx","../src/core/eventManager.ts","../src/hooks/usePrevious.ts","../src/hooks/useRefTracker.ts","../src/core/contextMenu.ts","../src/hooks/useContextMenu.ts","../src/components/menuController.ts","../src/constants.ts","../src/components/utils.ts","../src/components/Menu.tsx","../src/components/Item.tsx","../src/components/Separator.tsx","../src/components/Submenu.tsx"],"names":["Context","createContext","useRefTrackerContext","useContext","RefTrackerProvider","Provider","value","props","refTracker","children","createEventManager","eventList","Map","on","event","handler","has","get","add","set","Set","off","emit","args","process","env","NODE","currentEv","console","error","forEach","eventManager","usePrevious","ref","useRef","useEffect","current","useRefTracker","contextMenu","show","id","position","preventDefault","nativeEvent","hideAll","useContextMenu","params","NODE_ENV","createMenuController","menuList","focusedIndex","parentNode","isAtRoot","currentItems","forceCloseSubmenu","init","rootMenu","focusSelectedItem","node","focus","isSubmenuFocused","isSubmenu","getSubmenuItems","Array","from","submenuRefTracker","values","isFocused","moveDown","length","closeSubmenu","moveUp","openSubmenu","submenuItems","currentNode","isRoot","items","classList","parentFocusedIndex","menuParentNode","remove","clear","theme","light","dark","animation","fade","flip","scale","slide","NOOP","isFn","v","isStr","isTouchEvent","e","type","cloneItems","map","Children","toArray","filter","Boolean","cloneElement","item","getMousePosition","pos","x","y","changedTouches","clientX","clientY","getPredicateValue","predicate","payload","hasExitAnimation","exit","reducer","state","Menu","style","className","onHidden","onShown","rest","setState","useReducer","visible","triggerEvent","propsFromTrigger","willLeave","nodeRef","didMount","wasVisible","menuController","useState","hide","innerWidth","windowWidth","innerHeight","windowHeight","window","offsetWidth","menuWidth","offsetHeight","menuHeight","handleKeyboard","key","addEventListener","removeEventListener","stopPropagation","setTimeout","button","ctrlKey","handleAnimationEnd","computeAnimationClasses","cx","enter","cssClasses","menuStyle","left","top","opacity","onAnimationEnd","role","Item","data","onClick","disabled","hidden","handlerParams","isDisabled","isHidden","handleClick","trackRef","handleKeyDown","onKeyDown","tabIndex","Separator","Submenu","arrow","label","menuRefTracker","setPosition","bottom","rect","getBoundingClientRect","right","undefined","submenuStyle"],"mappings":"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","sourcesContent":["import React, { useContext, createContext } from 'react';\nimport { RefTracker } from '../hooks';\n\nconst Context = createContext({} as RefTracker);\n\n/**\n * Access parent ref tracker.\n */\nexport function useRefTrackerContext() {\n  return useContext(Context);\n}\n\nexport interface RefTrackerProviderProps {\n  refTracker: RefTracker;\n}\n\nexport const RefTrackerProvider: React.FC<RefTrackerProviderProps> = props => {\n  return (\n    <Context.Provider value={props.refTracker}>\n      {props.children}\n    </Context.Provider>\n  );\n};\n","import { EVENT } from '../constants';\n\nexport type EventType = string | number | symbol;\nexport type Handler<T = any> = (args: T) => void;\n\nexport interface EventManager<E = EventType> {\n  on<T = any>(event: E, handler: Handler<T>): EventManager<E>;\n  off<T = any>(event: E, handler?: Handler<T>): EventManager<E>;\n  emit<T = any>(event: E, args?: T): EventManager<E>;\n}\n\nfunction createEventManager<E = EventType>(): EventManager<E> {\n  const eventList = new Map<E, Set<Handler>>();\n\n  return {\n    on<T = any>(event: E, handler: Handler<T>) {\n      //eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      eventList.has(event)\n        ? eventList.get(event)?.add(handler)\n        : eventList.set(event, new Set([handler]));\n      return this;\n    },\n    off<T = any>(event: E, handler?: Handler<T>) {\n      handler ? eventList.get(event)!.delete(handler) : eventList.delete(event);\n      return this;\n    },\n    emit<T = any>(event: E, args: T) {\n      if (process.env.NODE !== 'production') {\n        const currentEv = (event as unknown) as number;\n\n        if (!eventList.has(event) && currentEv !== EVENT.HIDE_ALL) {\n          console.error(\n            `It seems that the menu you are trying to display is not renderer or you have a menu id mismatch.`,\n            `You used the menu id: ${event}`\n          );\n        }\n      }\n      eventList.has(event) &&\n        eventList.get(event)!.forEach((handler: Handler<T>) => {\n          handler(args);\n        });\n      return this;\n    },\n  };\n}\n\nexport const eventManager = createEventManager();\n","import { useEffect, useRef } from 'react';\n\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import { useRef } from 'react';\n\nexport interface RefTrackerValue {\n  node: HTMLElement;\n  isSubmenu: boolean;\n  submenuRefTracker?: RefTracker;\n}\n\nexport type RefTracker = ReturnType<typeof useRefTracker>;\n\n/**\n * Used to store children refs\n */\nexport function useRefTracker() {\n  return useRef<Map<HTMLElement, RefTrackerValue>>(new Map()).current;\n}\n","import { eventManager } from './eventManager';\nimport { MenuId, TriggerEvent } from '../types';\nimport { SyntheticEvent } from 'react';\n\nimport { EVENT } from '../constants';\n\nexport interface ShowContextMenuParams {\n  id: MenuId;\n  event: TriggerEvent;\n  props?: any;\n  position?: {\n    x: number;\n    y: number;\n  } | null;\n}\n\nexport interface ContextMenu {\n  show: (params: ShowContextMenuParams) => void;\n  hideAll: () => void;\n}\n\nconst contextMenu: ContextMenu = {\n  show({ id, event, props, position }) {\n    if (event.preventDefault) event.preventDefault();\n\n    eventManager.emit(EVENT.HIDE_ALL).emit(id, {\n      event: (event as SyntheticEvent).nativeEvent || event,\n      props,\n      position,\n    });\n  },\n  hideAll() {\n    eventManager.emit(EVENT.HIDE_ALL);\n  },\n};\n\nexport { contextMenu };\n","import { contextMenu } from '../core';\nimport { ContextMenuParams, TriggerEvent } from '../types';\n\nexport type UseContextMenuProps = Partial<\n  Pick<ContextMenuParams, 'id' | 'props'>\n>;\n\nexport function useContextMenu(props?: UseContextMenuProps) {\n  return {\n    show(event: TriggerEvent, params?: Omit<ContextMenuParams, 'event'>) {\n      if (process.env.NODE_ENV === 'development') {\n        if (!props?.id && !params?.id)\n          console.error(\n            \"You need to provide an id when initializing the hook `useContextMenu({ id: 'your id' })` or when you display the menu `show(e, { id: 'your id' })`. The later is used to override the one defined during initialization.\"\n          );\n      }\n      contextMenu.show({\n        id: (params?.id || props?.id) as string,\n        props: params?.props || props?.props,\n        event: event,\n        position: params?.position,\n      });\n    },\n    hideAll() {\n      contextMenu.hideAll();\n    },\n  };\n}\n","import { RefTrackerValue } from '../hooks';\nimport { STYLE } from '../constants';\n\ninterface Menu<T = RefTrackerValue> {\n  items: T[];\n  isRoot: boolean;\n  focusedIndex: number;\n  parentNode: HTMLElement;\n}\n\n/**\n * Used to control keyboard navigation\n */\nexport function createMenuController() {\n  const menuList = new Map<HTMLElement, Menu>();\n  let focusedIndex: number;\n  let parentNode: HTMLElement;\n  let isAtRoot: boolean;\n  let currentItems: RefTrackerValue[];\n  let forceCloseSubmenu = false;\n\n  function init(rootMenu: RefTrackerValue[]) {\n    currentItems = rootMenu;\n    focusedIndex = -1;\n    isAtRoot = true;\n  }\n\n  function focusSelectedItem() {\n    currentItems[focusedIndex].node.focus();\n  }\n\n  function isSubmenuFocused() {\n    return focusedIndex >= 0 && currentItems[focusedIndex].isSubmenu;\n  }\n\n  function getSubmenuItems() {\n    return Array.from(currentItems[focusedIndex].submenuRefTracker!.values());\n  }\n\n  function isFocused() {\n    if (focusedIndex === -1) {\n      // focus first item\n      moveDown();\n      return false;\n    }\n\n    return true;\n  }\n\n  function moveDown() {\n    if (focusedIndex + 1 < currentItems.length) {\n      focusedIndex++;\n    } else if (focusedIndex + 1 === currentItems.length) {\n      focusedIndex = 0;\n    }\n\n    if (forceCloseSubmenu) closeSubmenu();\n\n    focusSelectedItem();\n  }\n\n  function moveUp() {\n    if (focusedIndex === -1 || focusedIndex === 0) {\n      focusedIndex = currentItems.length - 1;\n    } else if (focusedIndex - 1 < currentItems.length) {\n      focusedIndex--;\n    }\n\n    if (forceCloseSubmenu) closeSubmenu();\n\n    focusSelectedItem();\n  }\n\n  function openSubmenu() {\n    if (isFocused() && isSubmenuFocused()) {\n      const submenuItems = getSubmenuItems();\n      const currentNode = currentItems[focusedIndex].node;\n\n      menuList.set(currentNode, {\n        isRoot: isAtRoot,\n        focusedIndex,\n        parentNode: parentNode || currentNode,\n        items: currentItems,\n      });\n\n      currentNode.classList.add(STYLE.submenuOpen);\n      parentNode = currentNode;\n\n      if (submenuItems.length > 0) {\n        focusedIndex = 0;\n        currentItems = submenuItems;\n      } else {\n        forceCloseSubmenu = true;\n      }\n\n      isAtRoot = false;\n\n      focusSelectedItem();\n      return true;\n    }\n    return false;\n  }\n\n  function closeSubmenu() {\n    if (isFocused() && !isAtRoot) {\n      const {\n        isRoot,\n        items,\n        focusedIndex: parentFocusedIndex,\n        parentNode: menuParentNode,\n      } = menuList.get(parentNode)!;\n\n      parentNode.classList.remove(STYLE.submenuOpen);\n\n      currentItems = items;\n      parentNode = menuParentNode;\n\n      if (isRoot) {\n        isAtRoot = true;\n        menuList.clear();\n      }\n      if (!forceCloseSubmenu) {\n        focusedIndex = parentFocusedIndex;\n        focusSelectedItem();\n      }\n    }\n  }\n\n  return {\n    init,\n    moveDown,\n    moveUp,\n    openSubmenu,\n    closeSubmenu,\n  };\n}\n","/*\n * css classes mapping\n * */\nexport const enum STYLE {\n  menu = 'react-contexify',\n  submenu = 'react-contexify react-contexify__submenu',\n  submenuArrow = 'react-contexify__submenu-arrow',\n  submenuOpen = 'react-contexify__submenu--is-open',\n  separator = 'react-contexify__separator',\n  item = 'react-contexify__item',\n  itemDisabled = 'react-contexify__item--disabled',\n  itemContent = 'react-contexify__item__content',\n  theme = 'react-contexify__theme--',\n  animationWillEnter = 'react-contexify__will-enter--',\n  animationWillLeave = 'react-contexify__will-leave--',\n}\n\nexport const enum EVENT {\n  HIDE_ALL,\n}\n\nexport const theme = {\n  light: 'light',\n  dark: 'dark',\n};\n\nexport const animation = {\n  fade: 'fade',\n  flip: 'flip',\n  scale: 'scale',\n  slide: 'slide',\n};\n\nexport const NOOP = () => {};\n","import { Children, cloneElement, ReactNode, ReactElement } from 'react';\n\nimport {\n  BooleanPredicate,\n  PredicateParams,\n  MenuAnimation,\n  TriggerEvent,\n} from '../types';\n\nexport function isFn(v: any): v is Function {\n  return typeof v === 'function';\n}\n\nexport function isStr(v: any): v is String {\n  return typeof v === 'string';\n}\n\nexport function isTouchEvent(e: TriggerEvent): e is TouchEvent {\n  return e.type === 'touchend';\n}\n\nexport function cloneItems(\n  children: ReactNode,\n  props: { triggerEvent: TriggerEvent; propsFromTrigger?: object }\n) {\n  return Children.map(\n    // remove null item\n    Children.toArray(children).filter(Boolean),\n    item => cloneElement(item as ReactElement<any>, props)\n  );\n}\n\nexport function getMousePosition(e: TriggerEvent) {\n  const pos = {\n    x: 0,\n    y: 0,\n  };\n\n  if (isTouchEvent(e) && e.changedTouches && e.changedTouches.length > 0) {\n    pos.x = e.changedTouches[0].clientX;\n    pos.y = e.changedTouches[0].clientY;\n  } else {\n    pos.x = (e as MouseEvent).clientX;\n    pos.y = (e as MouseEvent).clientY;\n  }\n\n  if (!pos.x || pos.x < 0) pos.x = 0;\n\n  if (!pos.y || pos.y < 0) pos.y = 0;\n\n  return pos;\n}\n\nexport function getPredicateValue(\n  predicate: BooleanPredicate,\n  payload: PredicateParams\n) {\n  return isFn(predicate) ? predicate(payload) : predicate;\n}\n\nexport function hasExitAnimation(animation: MenuAnimation) {\n  return !!(\n    animation &&\n    (isStr(animation) || ('exit' in animation && animation.exit))\n  );\n}\n","/* global: window */\nimport React, {\n  ReactNode,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport cx from 'clsx';\n\nimport { RefTrackerProvider } from './RefTrackerProvider';\n\nimport { eventManager } from '../core/eventManager';\nimport {\n  TriggerEvent,\n  MenuId,\n  ContextMenuParams,\n  MenuAnimation,\n} from '../types';\nimport { usePrevious, useRefTracker } from '../hooks';\nimport { createMenuController } from './menuController';\nimport { NOOP, STYLE, EVENT } from '../constants';\nimport {\n  cloneItems,\n  getMousePosition,\n  hasExitAnimation,\n  isFn,\n  isStr,\n} from './utils';\n\nexport interface MenuProps\n  extends Omit<React.HTMLAttributes<HTMLElement>, 'id'> {\n  /**\n   * Unique id to identify the menu. Use to Trigger the corresponding menu\n   */\n  id: MenuId;\n\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Theme is appended to `react-contexify__theme--${given theme}`.\n   *\n   * Built-in theme are `light` and `dark`\n   */\n  theme?: string;\n\n  /**\n   * Animation is appended to\n   * - `.react-contexify__will-enter--${given animation}`\n   * - `.react-contexify__will-leave--${given animation}`\n   *\n   * - To disable all animations you can pass `false`\n   * - To disable only the enter or the exit animation you can provide an object `{enter: false, exit: 'exitAnimation'}`\n   *\n   * - default is set to `scale`\n   *\n   * To use the built-in animation a helper in available\n   * `import { animation } from 'react-contexify`\n   *\n   * animation.fade\n   */\n  animation?: MenuAnimation;\n\n  /**\n   * Invoked after the menu is visible.\n   */\n  onShown?: () => void;\n\n  /**\n   * Invoked after the menu has been hidden.\n   */\n  onHidden?: () => void;\n}\n\ninterface MenuState {\n  x: number;\n  y: number;\n  visible: boolean;\n  triggerEvent: TriggerEvent;\n  propsFromTrigger: any;\n  willLeave: boolean;\n}\n\nfunction reducer(\n  state: MenuState,\n  payload: Partial<MenuState> | ((state: MenuState) => Partial<MenuState>)\n) {\n  return isFn(payload)\n    ? { ...state, ...payload(state) }\n    : { ...state, ...payload };\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  id,\n  theme,\n  style,\n  className,\n  children,\n  animation = 'scale',\n  onHidden = NOOP,\n  onShown = NOOP,\n  ...rest\n}) => {\n  const [state, setState] = useReducer(reducer, {\n    x: 0,\n    y: 0,\n    visible: false,\n    triggerEvent: {} as TriggerEvent,\n    propsFromTrigger: null,\n    willLeave: false,\n  });\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const didMount = useRef(false);\n  const wasVisible = usePrevious(state.visible);\n  const refTracker = useRefTracker();\n  const [menuController] = useState(() => createMenuController());\n\n  // subscribe event manager\n  useEffect(() => {\n    didMount.current = true;\n    eventManager.on(id, show).on(EVENT.HIDE_ALL, hide);\n\n    return () => {\n      eventManager.off(id, show).off(EVENT.HIDE_ALL, hide);\n    };\n    // hide rely on setState(dispatch), which is guaranted to be the same across render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  // handle show/ hide callback\n  useEffect(() => {\n    if (didMount.current && state.visible !== wasVisible) {\n      state.visible ? onShown() : onHidden();\n    }\n    // wasWisible is a ref\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, onHidden, onShown]);\n\n  // collect menu items for keyboard navigation\n  useEffect(() => {\n    if (!state.visible) {\n      refTracker.clear();\n    } else {\n      menuController.init(Array.from(refTracker.values()));\n    }\n  }, [state.visible, menuController, refTracker]);\n\n  // compute menu position\n  useEffect(() => {\n    if (state.visible) {\n      const { innerWidth: windowWidth, innerHeight: windowHeight } = window;\n      const {\n        offsetWidth: menuWidth,\n        offsetHeight: menuHeight,\n      } = nodeRef.current!;\n      let { x, y } = state;\n\n      if (x + menuWidth > windowWidth) {\n        x -= x + menuWidth - windowWidth;\n      }\n\n      if (y + menuHeight > windowHeight) {\n        y -= y + menuHeight - windowHeight;\n      }\n\n      setState({\n        x,\n        y,\n      });\n    }\n\n    // state.visible and state{x,y} are updated together\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible]);\n\n  // subscribe dom events\n  useEffect(() => {\n    function handleKeyboard(e: KeyboardEvent) {\n      e.preventDefault();\n      switch (e.key) {\n        case 'Enter':\n          if (!menuController.openSubmenu()) hide();\n          break;\n        case 'Escape':\n          hide();\n          break;\n        case 'ArrowUp':\n          menuController.moveUp();\n          break;\n        case 'ArrowDown':\n          menuController.moveDown();\n          break;\n        case 'ArrowRight':\n          menuController.openSubmenu();\n          break;\n        case 'ArrowLeft':\n          menuController.closeSubmenu();\n          break;\n      }\n    }\n\n    if (state.visible) {\n      window.addEventListener('resize', hide);\n      window.addEventListener('contextmenu', hide);\n      window.addEventListener('click', hide);\n      window.addEventListener('scroll', hide);\n      window.addEventListener('keydown', handleKeyboard);\n\n      // This let us debug the menu in the console in dev mode\n      if (process.env.NODE_ENV !== 'development') {\n        window.addEventListener('blur', hide);\n      }\n    }\n\n    return () => {\n      window.removeEventListener('resize', hide);\n      window.removeEventListener('contextmenu', hide);\n      window.removeEventListener('click', hide);\n      window.removeEventListener('scroll', hide);\n      window.removeEventListener('keydown', handleKeyboard);\n\n      if (process.env.NODE_ENV !== 'development') {\n        window.removeEventListener('blur', hide);\n      }\n    };\n    // state.visible will let us get the right reference to `hide`\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.visible, menuController]);\n\n  function show({ event, props, position }: ContextMenuParams) {\n    event.stopPropagation();\n    const { x, y } = position || getMousePosition(event);\n\n    // prevent react from batching the state update\n    // if the menu is already visible we have to recompute bounding rect based on position\n    setTimeout(() => {\n      setState({\n        visible: true,\n        willLeave: false,\n        x,\n        y,\n        triggerEvent: event,\n        propsFromTrigger: props,\n      });\n    }, 0);\n  }\n\n  function hide(event?: Event) {\n    // Safari trigger a click event when you ctrl + trackpad\n    // Firefox:  trigger a click event when right click occur\n    const e = event as KeyboardEvent & MouseEvent;\n\n    if (\n      typeof e !== 'undefined' &&\n      (e.button === 2 || e.ctrlKey === true) &&\n      e.type !== 'contextmenu'\n    ) {\n      return;\n    }\n\n    hasExitAnimation(animation)\n      ? setState(state => ({ willLeave: state.visible }))\n      : setState(state => ({ visible: state.visible ? false : state.visible }));\n  }\n\n  function handleAnimationEnd() {\n    if (state.willLeave && state.visible) {\n      setState({ visible: false, willLeave: false });\n    }\n  }\n\n  function computeAnimationClasses() {\n    if (!animation) return null;\n\n    if (isStr(animation)) {\n      return cx({\n        [`${STYLE.animationWillEnter}${animation}`]:\n          animation && visible && !willLeave,\n        [`${STYLE.animationWillLeave}${animation} ${STYLE.animationWillLeave}'disabled'`]:\n          animation && visible && willLeave,\n      });\n    } else if ('enter' in animation && 'exit' in animation) {\n      return cx({\n        [`${STYLE.animationWillEnter}${animation.enter}`]:\n          animation.enter && visible && !willLeave,\n        [`${STYLE.animationWillLeave}${animation.exit} ${STYLE.animationWillLeave}'disabled'`]:\n          animation.exit && visible && willLeave,\n      });\n    }\n\n    return null;\n  }\n\n  const { visible, triggerEvent, propsFromTrigger, x, y, willLeave } = state;\n  const cssClasses = cx(\n    STYLE.menu,\n    className,\n    { [`${STYLE.theme}${theme}`]: theme },\n    computeAnimationClasses()\n  );\n\n  const menuStyle = {\n    ...style,\n    left: x,\n    top: y,\n    opacity: 1,\n  };\n\n  return (\n    <RefTrackerProvider refTracker={refTracker}>\n      {visible && (\n        <div\n          {...rest}\n          className={cssClasses}\n          onAnimationEnd={handleAnimationEnd}\n          style={menuStyle}\n          ref={nodeRef}\n          role=\"menu\"\n        >\n          {cloneItems(children, {\n            propsFromTrigger,\n            triggerEvent,\n          })}\n        </div>\n      )}\n    </RefTrackerProvider>\n  );\n};\n","import React, { ReactNode } from 'react';\nimport cx from 'clsx';\n\nimport {\n  ItemParams,\n  InternalProps,\n  BooleanPredicate,\n  HandlerParamsEvent,\n} from '../types';\nimport { useRefTrackerContext } from './RefTrackerProvider';\nimport { NOOP, STYLE } from '../constants';\nimport { getPredicateValue } from './utils';\n\nexport interface ItemProps\n  extends InternalProps,\n    Omit<React.HTMLAttributes<HTMLElement>, 'hidden' | 'disabled' | 'onClick'> {\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Passed to the `Item` onClick callback. Accessible via `data`\n   */\n  data?: any;\n\n  /**\n   * Disable `Item`. If a function is used, a boolean must be returned\n   *\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   *\n   * ```\n   * function isItemDisabled({ triggerEvent, props, data }: PredicateParams<type of props, type of data>): boolean\n   * <Item disabled={isItemDisabled} data={data}>content</Item>\n   * ```\n   */\n  disabled?: BooleanPredicate;\n\n  /**\n   * Hide the `Item`. If a function is used, a boolean must be returned\n   *\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   *\n   * ```\n   * function isItemHidden({ triggerEvent, props, data }: PredicateParams<type of props, type of data>): boolean\n   * <Item hidden={isItemHidden} data={data}>content</Item>\n   * ```\n   */\n  hidden?: BooleanPredicate;\n\n  /**\n   * Callback when the `Item` is clicked.\n   *\n   * @param event The event that occured on the Item node\n   * @param props The props passed when you called `show(e, {props: yourProps})`\n   * @param data The data defined on the `Item`\n   * @param triggerEvent The event that triggered the context menu\n   *\n   * ```\n   * function handleItemClick({ triggerEvent, event, props, data }: ItemParams<type of props, type of data>){\n   *    // retrieve the id of the Item or any other dom attribute\n   *    const id = e.currentTarget.id;\n   *\n   *    // access the props and the data\n   *    console.log(props, data);\n   *\n   *    // access the coordinate of the mouse when the menu has been displayed\n   *    const {  clientX, clientY } = triggerEvent;\n   *\n   * }\n   *\n   * <Item id=\"item-id\" onClick={handleItemClick} data={{key: 'value'}}>Something</Item>\n   * ```\n   */\n  onClick?: (args: ItemParams) => void;\n}\n\nexport const Item: React.FC<ItemProps> = ({\n  children,\n  className,\n  style,\n  triggerEvent,\n  data,\n  propsFromTrigger,\n  onClick = NOOP,\n  disabled = false,\n  hidden = false,\n  ...rest\n}) => {\n  const refTracker = useRefTrackerContext();\n  const handlerParams = {\n    data,\n    triggerEvent: triggerEvent as HandlerParamsEvent,\n    props: propsFromTrigger,\n  };\n  const isDisabled = getPredicateValue(disabled, handlerParams);\n  const isHidden = getPredicateValue(hidden, handlerParams);\n\n  function handleClick(e: React.MouseEvent<HTMLElement>) {\n    (handlerParams as ItemParams).event = e;\n    isDisabled ? e.stopPropagation() : onClick(handlerParams as ItemParams);\n  }\n\n  function trackRef(node: HTMLElement | null) {\n    if (node && !isDisabled)\n      refTracker.set(node, {\n        node,\n        isSubmenu: false,\n      });\n  }\n\n  function handleKeyDown(e: React.KeyboardEvent<HTMLElement>) {\n    if (e.key === 'Enter') {\n      (handlerParams as ItemParams).event = e;\n      onClick(handlerParams as ItemParams);\n    }\n  }\n\n  if (isHidden) return null;\n\n  const cssClasses = cx(STYLE.item, className, {\n    [`${STYLE.itemDisabled}`]: isDisabled,\n  });\n\n  return (\n    <div\n      {...rest}\n      className={cssClasses}\n      style={style}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      ref={trackRef}\n      tabIndex={-1}\n      role=\"menuitem\"\n      aria-disabled={isDisabled}\n    >\n      <div className={STYLE.itemContent}>{children}</div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport { STYLE } from '../constants';\n\nexport function Separator() {\n  return <div className={STYLE.separator} />;\n}\n","import React, { ReactNode, useEffect, useRef, useState } from 'react';\nimport cx from 'clsx';\n\nimport { InternalProps, BooleanPredicate, HandlerParamsEvent } from '../types';\nimport { RefTrackerProvider, useRefTrackerContext } from './RefTrackerProvider';\nimport { useRefTracker } from '../hooks';\nimport { STYLE } from '../constants';\nimport { cloneItems, getPredicateValue } from './utils';\n\nexport interface SubMenuProps\n  extends InternalProps,\n    Omit<React.HTMLAttributes<HTMLElement>, 'hidden'> {\n  /**\n   * Any valid node that can be rendered\n   */\n  label: ReactNode;\n\n  /**\n   * Any valid node that can be rendered\n   */\n  children: ReactNode;\n\n  /**\n   * Render a custom arrow\n   */\n  arrow?: ReactNode;\n\n  /**\n   * Disable the `Submenu`. If a function is used, a boolean must be returned\n   */\n  disabled?: BooleanPredicate;\n\n  /**\n   * Hide the `Submenu` and his children. If a function is used, a boolean must be returned\n   */\n  hidden?: BooleanPredicate;\n}\n\ninterface SubMenuState {\n  left?: string | number;\n  right?: string | number;\n  top?: string | number;\n  bottom?: string | number;\n}\n\nexport const Submenu: React.FC<SubMenuProps> = ({\n  arrow = '▶',\n  children,\n  disabled = false,\n  hidden = false,\n  label,\n  className,\n  triggerEvent,\n  propsFromTrigger,\n  style,\n  ...rest\n}) => {\n  const menuRefTracker = useRefTrackerContext();\n  const refTracker = useRefTracker();\n  const nodeRef = useRef<HTMLDivElement>(null);\n  const [position, setPosition] = useState<SubMenuState>({\n    left: '100%',\n    top: 0,\n    bottom: 'initial',\n  });\n  const handlerParams = {\n    triggerEvent: triggerEvent as HandlerParamsEvent,\n    props: propsFromTrigger,\n  };\n  const isDisabled = getPredicateValue(disabled, handlerParams);\n  const isHidden = getPredicateValue(hidden, handlerParams);\n\n  useEffect(() => {\n    if (nodeRef.current) {\n      const { innerWidth, innerHeight } = window;\n      const rect = nodeRef.current.getBoundingClientRect();\n      const style: SubMenuState = {};\n\n      if (rect.right < innerWidth) {\n        style.left = '100%';\n        style.right = undefined;\n      } else {\n        style.right = '100%';\n        style.left = undefined;\n      }\n\n      if (rect.bottom > innerHeight) {\n        style.bottom = 0;\n        style.top = 'initial';\n      } else {\n        style.bottom = 'initial';\n      }\n\n      setPosition(style);\n    }\n  }, []);\n\n  function handleClick(e: React.SyntheticEvent) {\n    e.stopPropagation();\n  }\n\n  function trackRef(node: HTMLElement | null) {\n    if (node && !isDisabled)\n      menuRefTracker.set(node, {\n        node,\n        isSubmenu: true,\n        submenuRefTracker: refTracker,\n      });\n  }\n\n  if (isHidden) return null;\n\n  const cssClasses = cx(STYLE.item, className, {\n    [`${STYLE.itemDisabled}`]: isDisabled,\n  });\n\n  const submenuStyle = {\n    ...style,\n    ...position,\n  };\n\n  return (\n    <RefTrackerProvider refTracker={refTracker}>\n      <div\n        {...rest}\n        className={cssClasses}\n        ref={trackRef}\n        tabIndex={-1}\n        role=\"menuitem\"\n        aria-haspopup\n        aria-disabled={isDisabled}\n      >\n        <div className={STYLE.itemContent} onClick={handleClick}>\n          {label}\n          <span className={STYLE.submenuArrow}>{arrow}</span>\n        </div>\n        <div className={STYLE.submenu} ref={nodeRef} style={submenuStyle}>\n          {cloneItems(children, {\n            propsFromTrigger,\n            // injected by the parent\n            triggerEvent: triggerEvent!,\n          })}\n        </div>\n      </div>\n    </RefTrackerProvider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}