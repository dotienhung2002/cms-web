{"ast":null,"code":"import _defineProperty from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ** React Imports\nimport{Fragment,useEffect,useState,useRef}from'react';import ReactDOM from'react-dom';import{useHistory}from'react-router-dom';// ** Third Party Components\nimport classnames from'classnames';import{AlertCircle}from'react-feather';import PerfectScrollbar from'react-perfect-scrollbar';// ** Custom Hooks\nimport{useOnClickOutside}from'@Hooks/useOnClickOutside';// ** Styles\nimport'@Styles/base/bootstrap-extended/_include.scss';import'./autocomplete.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Autocomplete=function Autocomplete(props){// ** Refs\nvar container=useRef(null);var inputElRef=useRef(null);var suggestionsListRef=useRef(null);// ** States\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),focused=_useState2[0],setFocused=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),activeSuggestion=_useState4[0],setActiveSuggestion=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showSuggestions=_useState6[0],setShowSuggestions=_useState6[1];var _useState7=useState(props.value?props.value:''),_useState8=_slicedToArray(_useState7,2),userInput=_useState8[0],setUserInput=_useState8[1];// ** Vars\nvar history=useHistory();var filteredData=[];// ** Suggestion Item Click Event\nvar onSuggestionItemClick=function onSuggestionItemClick(url,e){setActiveSuggestion(0);setShowSuggestions(false);setUserInput(filteredData[activeSuggestion][props.filterKey]);if(url!==undefined&&url!==null){history(url);}if(props.onSuggestionClick){props.onSuggestionClick(url,e);}};// ** Suggestion Hover Event\nvar onSuggestionItemHover=function onSuggestionItemHover(index){setActiveSuggestion(index);};// ** Input On Change Event\nvar _onChange=function onChange(e){var userInput=e.currentTarget.value;setActiveSuggestion(0);setShowSuggestions(true);setUserInput(userInput);if(e.target.value<1){setShowSuggestions(false);}};// ** Input Click Event\nvar onInputClick=function onInputClick(e){e.stopPropagation();};// ** Input's Keydown Event\nvar _onKeyDown=function onKeyDown(e){var filterKey=props.filterKey;var suggestionList=ReactDOM.findDOMNode(suggestionsListRef.current);// ** User pressed the up arrow\nif(e.keyCode===38&&activeSuggestion!==0){setActiveSuggestion(activeSuggestion-1);if(e.target.value.length>-1&&suggestionList!==null&&activeSuggestion<=filteredData.length/2){suggestionList.scrollTop=0;}}else if(e.keyCode===40&&activeSuggestion<filteredData.length-1){// ** User pressed the down arrow\nsetActiveSuggestion(activeSuggestion+1);if(e.target.value.length>-1&&suggestionList!==null&&activeSuggestion>=filteredData.length/2){suggestionList.scrollTop=suggestionList.scrollHeight;}}else if(e.keyCode===27){// ** User Pressed ESC\nsetShowSuggestions(false);setUserInput('');}else if(e.keyCode===13&&showSuggestions){// ** User Pressed ENTER\nonSuggestionItemClick(filteredData[activeSuggestion].link,e);setUserInput(filteredData[activeSuggestion][filterKey]);setShowSuggestions(false);}else{return;}// ** Custom Keydown Event\nif(props.onKeyDown!==undefined&&props.onKeyDown!==null){props.onKeyDown(e,userInput);}};// ** Function To Render Grouped Suggestions\nvar renderGroupedSuggestion=function renderGroupedSuggestion(arr){var filterKey=props.filterKey,customRender=props.customRender;var renderSuggestion=function renderSuggestion(item,i){if(!customRender){var suggestionURL=item.link!==undefined&&item.link!==null?item.link:null;return/*#__PURE__*/_jsx(\"li\",{className:classnames('suggestion-item',{active:filteredData.indexOf(item)===activeSuggestion}),onClick:function onClick(e){return onSuggestionItemClick(suggestionURL,e);},onMouseEnter:function onMouseEnter(){onSuggestionItemHover(filteredData.indexOf(item));},children:item[filterKey]},item[filterKey]);}else if(customRender){return customRender(item,i,filteredData,activeSuggestion,onSuggestionItemClick,onSuggestionItemHover,userInput);}else{return null;}};return arr.map(function(item,i){return renderSuggestion(item,i);});};// ** Function To Render Ungrouped Suggestions\nvar renderUngroupedSuggestions=function renderUngroupedSuggestions(){var _filteredData;var filterKey=props.filterKey,suggestions=props.suggestions,customRender=props.customRender,suggestionLimit=props.suggestionLimit;filteredData=[];var sortSingleData=suggestions.filter(function(i){var startCondition=i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),includeCondition=i[filterKey].toLowerCase().includes(userInput.toLowerCase());if(startCondition){return startCondition;}else if(!startCondition&&includeCondition){return includeCondition;}else{return null;}}).slice(0,suggestionLimit);(_filteredData=filteredData).push.apply(_filteredData,_toConsumableArray(sortSingleData));if(sortSingleData.length){return sortSingleData.map(function(suggestion,index){var suggestionURL=suggestion.link!==undefined&&suggestion.link!==null?suggestion.link:null;if(!customRender){return/*#__PURE__*/_jsx(\"li\",{className:classnames('suggestion-item',{active:filteredData.indexOf(suggestion)===activeSuggestion}),onClick:function onClick(e){return onSuggestionItemClick(suggestionURL,e);},onMouseEnter:function onMouseEnter(){return onSuggestionItemHover(filteredData.indexOf(suggestion));},children:suggestion[filterKey]},suggestion[filterKey]);}else if(customRender){return customRender(suggestion,index,filteredData,activeSuggestion,onSuggestionItemClick,onSuggestionItemHover,userInput);}else{return null;}});}else{return/*#__PURE__*/_jsxs(\"li\",{className:\"suggestion-item no-result\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:15}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"align-middle ml-50\",children:\"No Result\"})]});}};// ** Function To Render Suggestions\nvar renderSuggestions=function renderSuggestions(){var filterKey=props.filterKey,grouped=props.grouped,filterHeaderKey=props.filterHeaderKey,suggestions=props.suggestions;// ** Checks if suggestions are grouped or not.\nif(grouped===undefined||grouped===null||!grouped){return renderUngroupedSuggestions();}else{filteredData=[];return suggestions.map(function(suggestion){var _filteredData2;var sortData=suggestion.data.filter(function(i){var startCondition=i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),includeCondition=i[filterKey].toLowerCase().includes(userInput.toLowerCase());if(startCondition){return startCondition;}else if(!startCondition&&includeCondition){return includeCondition;}else{return null;}}).slice(0,suggestion.searchLimit);(_filteredData2=filteredData).push.apply(_filteredData2,_toConsumableArray(sortData));return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"suggestion-item suggestion-title-wrapper\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"suggestion-title\",children:suggestion[filterHeaderKey]})}),sortData.length?renderGroupedSuggestion(sortData):/*#__PURE__*/_jsxs(\"li\",{className:\"suggestion-item no-result\",children:[/*#__PURE__*/_jsx(AlertCircle,{size:15}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"align-middle ml-50\",children:\"No Result\"})]})]},suggestion[filterHeaderKey]);});}};//** ComponentDidMount\nuseEffect(function(){if(props.defaultSuggestions&&focused){setShowSuggestions(true);}},[focused,props.defaultSuggestions]);//** ComponentDidUpdate\nuseEffect(function(){var textInput=ReactDOM.findDOMNode(inputElRef.current);// ** For searchbar focus\nif(textInput!==null&&props.autoFocus){inputElRef.current.focus();}// ** If user has passed default suggestions & focus then show default suggestions\nif(props.defaultSuggestions&&focused){setShowSuggestions(true);}// ** Function to run on user passed Clear Input\nif(props.clearInput){props.clearInput(userInput,setUserInput);}// ** Function on Suggestions Shown\nif(props.onSuggestionsShown&&showSuggestions){props.onSuggestionsShown(userInput);}},[setShowSuggestions,focused,userInput,showSuggestions,props]);// ** On External Click Close The Search & Call Passed Function\nuseOnClickOutside(container,function(){setShowSuggestions(false);if(props.externalClick){props.externalClick();}});var suggestionsListComponent;if(showSuggestions){suggestionsListComponent=/*#__PURE__*/_jsx(PerfectScrollbar,{className:classnames('suggestions-list',_defineProperty({},props.wrapperClass,props.wrapperClass)),ref:suggestionsListRef,component:\"ul\",options:{wheelPropagation:false},children:renderSuggestions()});}return/*#__PURE__*/_jsxs(\"div\",{className:\"autocomplete-container\",ref:container,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){_onChange(e);if(props.onChange){props.onChange(e);}},onKeyDown:function onKeyDown(e){return _onKeyDown(e);},value:userInput,className:\"autocomplete-search \".concat(props.className?props.className:''),placeholder:props.placeholder,onClick:onInputClick,ref:inputElRef,onFocus:function onFocus(e){return setFocused(true);},autoFocus:props.autoFocus,onBlur:function onBlur(e){if(props.onBlur)props.onBlur(e);setFocused(false);}}),suggestionsListComponent]});};export default Autocomplete;// ** PropTypes","map":{"version":3,"names":["Fragment","useEffect","useState","useRef","ReactDOM","useHistory","classnames","AlertCircle","PerfectScrollbar","useOnClickOutside","Autocomplete","props","container","inputElRef","suggestionsListRef","focused","setFocused","activeSuggestion","setActiveSuggestion","showSuggestions","setShowSuggestions","value","userInput","setUserInput","history","filteredData","onSuggestionItemClick","url","e","filterKey","undefined","onSuggestionClick","onSuggestionItemHover","index","onChange","currentTarget","target","onInputClick","stopPropagation","onKeyDown","suggestionList","findDOMNode","current","keyCode","length","scrollTop","scrollHeight","link","renderGroupedSuggestion","arr","customRender","renderSuggestion","item","i","suggestionURL","active","indexOf","map","renderUngroupedSuggestions","suggestions","suggestionLimit","sortSingleData","filter","startCondition","toLowerCase","startsWith","includeCondition","includes","slice","push","suggestion","renderSuggestions","grouped","filterHeaderKey","sortData","data","searchLimit","defaultSuggestions","textInput","autoFocus","focus","clearInput","onSuggestionsShown","externalClick","suggestionsListComponent","wrapperClass","wheelPropagation","className","placeholder","onBlur"],"sources":["/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/src/@core/components/autocomplete/index.js"],"sourcesContent":["// ** React Imports\nimport { Fragment, useEffect, useState, useRef } from 'react'\nimport ReactDOM from 'react-dom'\nimport { useHistory } from 'react-router-dom'\n\n// ** Third Party Components\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport { AlertCircle } from 'react-feather'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\n\n// ** Custom Hooks\nimport { useOnClickOutside } from '@Hooks/useOnClickOutside'\n\n// ** Styles\nimport '@Styles/base/bootstrap-extended/_include.scss'\nimport './autocomplete.scss'\n\nconst Autocomplete = props => {\n  // ** Refs\n  const container = useRef(null)\n  const inputElRef = useRef(null)\n  const suggestionsListRef = useRef(null)\n\n  // ** States\n  const [focused, setFocused] = useState(false)\n  const [activeSuggestion, setActiveSuggestion] = useState(0)\n  const [showSuggestions, setShowSuggestions] = useState(false)\n  const [userInput, setUserInput] = useState(props.value ? props.value : '')\n\n  // ** Vars\n  const history = useHistory()\n  let filteredData = []\n\n  // ** Suggestion Item Click Event\n  const onSuggestionItemClick = (url, e) => {\n    setActiveSuggestion(0)\n    setShowSuggestions(false)\n    setUserInput(filteredData[activeSuggestion][props.filterKey])\n    if (url !== undefined && url !== null) {\n      history(url)\n      \n    }\n\n    if (props.onSuggestionClick) {\n      props.onSuggestionClick(url, e)\n    }\n  }\n\n  // ** Suggestion Hover Event\n  const onSuggestionItemHover = index => {\n    setActiveSuggestion(index)\n  }\n\n  // ** Input On Change Event\n  const onChange = e => {\n    const userInput = e.currentTarget.value\n    setActiveSuggestion(0)\n    setShowSuggestions(true)\n    setUserInput(userInput)\n    if (e.target.value < 1) {\n      setShowSuggestions(false)\n    }\n  }\n\n  // ** Input Click Event\n  const onInputClick = e => {\n    e.stopPropagation()\n  }\n\n  // ** Input's Keydown Event\n  const onKeyDown = e => {\n    const filterKey = props.filterKey\n    const suggestionList = ReactDOM.findDOMNode(suggestionsListRef.current)\n\n    // ** User pressed the up arrow\n    if (e.keyCode === 38 && activeSuggestion !== 0) {\n      setActiveSuggestion(activeSuggestion - 1)\n\n      if (e.target.value.length > -1 && suggestionList !== null && activeSuggestion <= filteredData.length / 2) {\n        suggestionList.scrollTop = 0\n      }\n    } else if (e.keyCode === 40 && activeSuggestion < filteredData.length - 1) {\n      // ** User pressed the down arrow\n      setActiveSuggestion(activeSuggestion + 1)\n\n      if (e.target.value.length > -1 && suggestionList !== null && activeSuggestion >= filteredData.length / 2) {\n        suggestionList.scrollTop = suggestionList.scrollHeight\n      }\n    } else if (e.keyCode === 27) {\n      // ** User Pressed ESC\n      setShowSuggestions(false)\n      setUserInput('')\n    } else if (e.keyCode === 13 && showSuggestions) {\n      // ** User Pressed ENTER\n      onSuggestionItemClick(filteredData[activeSuggestion].link, e)\n      setUserInput(filteredData[activeSuggestion][filterKey])\n      setShowSuggestions(false)\n    } else {\n      return\n    }\n\n    // ** Custom Keydown Event\n    if (props.onKeyDown !== undefined && props.onKeyDown !== null) {\n      props.onKeyDown(e, userInput)\n    }\n  }\n\n  // ** Function To Render Grouped Suggestions\n  const renderGroupedSuggestion = arr => {\n    const { filterKey, customRender } = props\n\n    const renderSuggestion = (item, i) => {\n      if (!customRender) {\n        const suggestionURL = item.link !== undefined && item.link !== null ? item.link : null\n        return (\n          <li\n            className={classnames('suggestion-item', {\n              active: filteredData.indexOf(item) === activeSuggestion\n            })}\n            key={item[filterKey]}\n            onClick={e => onSuggestionItemClick(suggestionURL, e)}\n            onMouseEnter={() => {\n              onSuggestionItemHover(filteredData.indexOf(item))\n            }}\n          >\n            {item[filterKey]}\n          </li>\n        )\n      } else if (customRender) {\n        return customRender(\n          item,\n          i,\n          filteredData,\n          activeSuggestion,\n          onSuggestionItemClick,\n          onSuggestionItemHover,\n          userInput\n        )\n      } else {\n        return null\n      }\n    }\n\n    return arr.map((item, i) => {\n      return renderSuggestion(item, i)\n    })\n  }\n\n  // ** Function To Render Ungrouped Suggestions\n  const renderUngroupedSuggestions = () => {\n    const { filterKey, suggestions, customRender, suggestionLimit } = props\n\n    filteredData = []\n    const sortSingleData = suggestions\n      .filter(i => {\n        const startCondition = i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),\n          includeCondition = i[filterKey].toLowerCase().includes(userInput.toLowerCase())\n        if (startCondition) {\n          return startCondition\n        } else if (!startCondition && includeCondition) {\n          return includeCondition\n        } else {\n          return null\n        }\n      })\n      .slice(0, suggestionLimit)\n    filteredData.push(...sortSingleData)\n    if (sortSingleData.length) {\n      return sortSingleData.map((suggestion, index) => {\n        const suggestionURL = suggestion.link !== undefined && suggestion.link !== null ? suggestion.link : null\n        if (!customRender) {\n          return (\n            <li\n              className={classnames('suggestion-item', {\n                active: filteredData.indexOf(suggestion) === activeSuggestion\n              })}\n              key={suggestion[filterKey]}\n              onClick={e => onSuggestionItemClick(suggestionURL, e)}\n              onMouseEnter={() => onSuggestionItemHover(filteredData.indexOf(suggestion))}\n            >\n              {suggestion[filterKey]}\n            </li>\n          )\n        } else if (customRender) {\n          return customRender(\n            suggestion,\n            index,\n            filteredData,\n            activeSuggestion,\n            onSuggestionItemClick,\n            onSuggestionItemHover,\n            userInput\n          )\n        } else {\n          return null\n        }\n      })\n    } else {\n      return (\n        <li className='suggestion-item no-result'>\n          <AlertCircle size={15} /> <span className='align-middle ml-50'>No Result</span>\n        </li>\n      )\n    }\n  }\n\n  // ** Function To Render Suggestions\n  const renderSuggestions = () => {\n    const { filterKey, grouped, filterHeaderKey, suggestions } = props\n\n    // ** Checks if suggestions are grouped or not.\n    if (grouped === undefined || grouped === null || !grouped) {\n      return renderUngroupedSuggestions()\n    } else {\n      filteredData = []\n      return suggestions.map(suggestion => {\n        const sortData = suggestion.data\n          .filter(i => {\n            const startCondition = i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),\n              includeCondition = i[filterKey].toLowerCase().includes(userInput.toLowerCase())\n            if (startCondition) {\n              return startCondition\n            } else if (!startCondition && includeCondition) {\n              return includeCondition\n            } else {\n              return null\n            }\n          })\n          .slice(0, suggestion.searchLimit)\n\n        filteredData.push(...sortData)\n        return (\n          <Fragment key={suggestion[filterHeaderKey]}>\n            <li className='suggestion-item suggestion-title-wrapper'>\n              <h6 className='suggestion-title'>{suggestion[filterHeaderKey]}</h6>\n            </li>\n            {sortData.length ? (\n              renderGroupedSuggestion(sortData)\n            ) : (\n              <li className='suggestion-item no-result'>\n                <AlertCircle size={15} /> <span className='align-middle ml-50'>No Result</span>\n              </li>\n            )}\n          </Fragment>\n        )\n      })\n    }\n  }\n\n  //** ComponentDidMount\n  useEffect(() => {\n    if (props.defaultSuggestions && focused) {\n      setShowSuggestions(true)\n    }\n  }, [focused, props.defaultSuggestions])\n\n  //** ComponentDidUpdate\n  useEffect(() => {\n    const textInput = ReactDOM.findDOMNode(inputElRef.current)\n\n    // ** For searchbar focus\n    if (textInput !== null && props.autoFocus) {\n      inputElRef.current.focus()\n    }\n\n    // ** If user has passed default suggestions & focus then show default suggestions\n    if (props.defaultSuggestions && focused) {\n      setShowSuggestions(true)\n    }\n\n    // ** Function to run on user passed Clear Input\n    if (props.clearInput) {\n      props.clearInput(userInput, setUserInput)\n    }\n\n    // ** Function on Suggestions Shown\n    if (props.onSuggestionsShown && showSuggestions) {\n      props.onSuggestionsShown(userInput)\n    }\n  }, [setShowSuggestions, focused, userInput, showSuggestions, props])\n\n  // ** On External Click Close The Search & Call Passed Function\n  useOnClickOutside(container, () => {\n    setShowSuggestions(false)\n    if (props.externalClick) {\n      props.externalClick()\n    }\n  })\n\n  let suggestionsListComponent\n\n  if (showSuggestions) {\n    suggestionsListComponent = (\n      <PerfectScrollbar\n        className={classnames('suggestions-list', {\n          [props.wrapperClass]: props.wrapperClass\n        })}\n        ref={suggestionsListRef}\n        component='ul'\n        options={{ wheelPropagation: false }}\n      >\n        {renderSuggestions()}\n      </PerfectScrollbar>\n    )\n  }\n\n  return (\n    <div className='autocomplete-container' ref={container}>\n      <input\n        type='text'\n        onChange={e => {\n          onChange(e)\n          if (props.onChange) {\n            props.onChange(e)\n          }\n        }}\n        onKeyDown={e => onKeyDown(e)}\n        value={userInput}\n        className={`autocomplete-search ${props.className ? props.className : ''}`}\n        placeholder={props.placeholder}\n        onClick={onInputClick}\n        ref={inputElRef}\n        onFocus={e => setFocused(true)}\n        autoFocus={props.autoFocus}\n        onBlur={e => {\n          if (props.onBlur) props.onBlur(e)\n          setFocused(false)\n        }}\n      />\n      {suggestionsListComponent}\n    </div>\n  )\n}\n\nexport default Autocomplete\n\n// ** PropTypes\nAutocomplete.propTypes = {\n  suggestions: PropTypes.array.isRequired,\n  filterKey: PropTypes.string.isRequired,\n  defaultValue: PropTypes.string,\n  wrapperClass: PropTypes.string,\n  filterHeaderKey: PropTypes.string,\n  placeholder: PropTypes.string,\n  suggestionLimit: PropTypes.number,\n  grouped: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  onKeyDown: PropTypes.func,\n  onChange: PropTypes.func,\n  onSuggestionsShown: PropTypes.func,\n  onSuggestionItemClick: PropTypes.func,\n  clearInput: PropTypes.func,\n  externalClick: PropTypes.func\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}