{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar MS_PER_SECOND = 1e3;\nvar SECS_PER_MIN = 60;\nvar SECS_PER_HOUR = SECS_PER_MIN * 60;\nvar SECS_PER_DAY = SECS_PER_HOUR * 24;\nvar SECS_PER_WEEK = SECS_PER_DAY * 7;\nexport function selectUnit(from, to, thresholds) {\n  if (to === void 0) {\n    to = Date.now();\n  }\n  if (thresholds === void 0) {\n    thresholds = {};\n  }\n  var resolvedThresholds = __assign(__assign({}, DEFAULT_THRESHOLDS), thresholds || {});\n  var secs = (+from - +to) / MS_PER_SECOND;\n  if (Math.abs(secs) < resolvedThresholds.second) {\n    return {\n      value: Math.round(secs),\n      unit: 'second'\n    };\n  }\n  var mins = secs / SECS_PER_MIN;\n  if (Math.abs(mins) < resolvedThresholds.minute) {\n    return {\n      value: Math.round(mins),\n      unit: 'minute'\n    };\n  }\n  var hours = secs / SECS_PER_HOUR;\n  if (Math.abs(hours) < resolvedThresholds.hour) {\n    return {\n      value: Math.round(hours),\n      unit: 'hour'\n    };\n  }\n  var days = secs / SECS_PER_DAY;\n  if (Math.abs(days) < resolvedThresholds.day) {\n    return {\n      value: Math.round(days),\n      unit: 'day'\n    };\n  }\n  var fromDate = new Date(from);\n  var toDate = new Date(to);\n  var years = fromDate.getFullYear() - toDate.getFullYear();\n  if (Math.round(Math.abs(years)) > 0) {\n    return {\n      value: Math.round(years),\n      unit: 'year'\n    };\n  }\n  var months = years * 12 + fromDate.getMonth() - toDate.getMonth();\n  if (Math.round(Math.abs(months)) > 0) {\n    return {\n      value: Math.round(months),\n      unit: 'month'\n    };\n  }\n  var weeks = secs / SECS_PER_WEEK;\n  return {\n    value: Math.round(weeks),\n    unit: 'week'\n  };\n}\nexport var DEFAULT_THRESHOLDS = {\n  second: 45,\n  minute: 45,\n  hour: 22,\n  day: 5\n};","map":{"version":3,"mappings":"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","names":["MS_PER_SECOND","SECS_PER_MIN","SECS_PER_HOUR","SECS_PER_DAY","SECS_PER_WEEK","selectUnit","from","to","thresholds","Date","now","resolvedThresholds","DEFAULT_THRESHOLDS","secs","Math","abs","second","value","round","unit","mins","minute","hours","hour","days","day","fromDate","toDate","years","getFullYear","months","getMonth","weeks"],"sourceRoot":"","sources":["../src/diff.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}