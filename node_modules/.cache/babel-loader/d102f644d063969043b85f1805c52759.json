{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar react_1 = tslib_1.__importStar(require(\"react\"));\nvar SlideDownContent = function (_super) {\n  tslib_1.__extends(SlideDownContent, _super);\n  function SlideDownContent(props) {\n    var _this = _super.call(this, props) || this;\n    _this.outerRef = null;\n    _this.handleRef = function (ref) {\n      _this.outerRef = ref;\n      if (_this.props.forwardedRef) {\n        if (typeof _this.props.forwardedRef === 'function') {\n          _this.props.forwardedRef(ref);\n        } else if (typeof _this.props.forwardedRef === 'object') {\n          var forwardedRef = _this.props.forwardedRef;\n          forwardedRef.current = ref;\n        } else {\n          throw new Error(\"Invalid forwardedRef \" + _this.props.forwardedRef);\n        }\n      }\n    };\n    _this.handleTransitionEnd = function (evt) {\n      if (evt.target === _this.outerRef && evt.propertyName === 'height') {\n        if (_this.state.childrenLeaving) {\n          _this.setState({\n            children: null,\n            childrenLeaving: false\n          }, function () {\n            return _this.endTransition();\n          });\n        } else {\n          _this.endTransition();\n        }\n      }\n    };\n    _this.state = {\n      children: props.children,\n      childrenLeaving: false\n    };\n    return _this;\n  }\n  SlideDownContent.prototype.componentDidMount = function () {\n    if (this.outerRef) {\n      if (this.props.closed || !this.props.children) {\n        this.outerRef.classList.add('closed');\n        this.outerRef.style.height = '0px';\n      } else if (this.props.transitionOnAppear) {\n        this.startTransition('0px');\n      } else {\n        this.outerRef.style.height = 'auto';\n      }\n    }\n  };\n  SlideDownContent.prototype.getSnapshotBeforeUpdate = function () {\n    return this.outerRef ? this.outerRef.getBoundingClientRect().height + 'px' : null;\n  };\n  SlideDownContent.getDerivedStateFromProps = function (props, state) {\n    if (props.children) {\n      return {\n        children: props.children,\n        childrenLeaving: false\n      };\n    } else if (state.children) {\n      return {\n        children: state.children,\n        childrenLeaving: true\n      };\n    } else {\n      return null;\n    }\n  };\n  SlideDownContent.prototype.componentDidUpdate = function (_prevProps, _prevState, snapshot) {\n    if (this.outerRef) {\n      this.startTransition(snapshot);\n    }\n  };\n  SlideDownContent.prototype.startTransition = function (prevHeight) {\n    var endHeight = '0px';\n    if (!this.props.closed && !this.state.childrenLeaving && this.state.children) {\n      this.outerRef.classList.remove('closed');\n      this.outerRef.style.height = 'auto';\n      endHeight = getComputedStyle(this.outerRef).height;\n    }\n    if (parseFloat(endHeight).toFixed(2) !== parseFloat(prevHeight).toFixed(2)) {\n      this.outerRef.classList.add('transitioning');\n      this.outerRef.style.height = prevHeight;\n      this.outerRef.offsetHeight;\n      this.outerRef.style.transitionProperty = 'height';\n      this.outerRef.style.height = endHeight;\n    }\n  };\n  SlideDownContent.prototype.endTransition = function () {\n    this.outerRef.classList.remove('transitioning');\n    this.outerRef.style.transitionProperty = 'none';\n    this.outerRef.style.height = this.props.closed ? '0px' : 'auto';\n    if (this.props.closed || !this.state.children) {\n      this.outerRef.classList.add('closed');\n    }\n  };\n  SlideDownContent.prototype.render = function () {\n    var _a = this.props,\n      _b = _a.as,\n      as = _b === void 0 ? 'div' : _b,\n      children = _a.children,\n      className = _a.className,\n      closed = _a.closed,\n      transitionOnAppear = _a.transitionOnAppear,\n      forwardedRef = _a.forwardedRef,\n      rest = tslib_1.__rest(_a, [\"as\", \"children\", \"className\", \"closed\", \"transitionOnAppear\", \"forwardedRef\"]);\n    var containerClassName = className ? 'react-slidedown ' + className : 'react-slidedown';\n    return react_1.default.createElement(as, tslib_1.__assign({\n      ref: this.handleRef,\n      className: containerClassName,\n      onTransitionEnd: this.handleTransitionEnd\n    }, rest), this.state.children);\n  };\n  SlideDownContent.defaultProps = {\n    transitionOnAppear: true,\n    closed: false\n  };\n  return SlideDownContent;\n}(react_1.Component);\nexports.SlideDown = react_1.forwardRef(function (props, ref) {\n  return react_1.default.createElement(SlideDownContent, tslib_1.__assign({}, props, {\n    forwardedRef: ref\n  }));\n});\nexports.default = exports.SlideDown;","map":{"version":3,"sources":["slidedown.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = tslib_1.__importStar(require(\"react\"));\nvar SlideDownContent = (function (_super) {\n    tslib_1.__extends(SlideDownContent, _super);\n    function SlideDownContent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.outerRef = null;\n        _this.handleRef = function (ref) {\n            _this.outerRef = ref;\n            if (_this.props.forwardedRef) {\n                if (typeof _this.props.forwardedRef === 'function') {\n                    _this.props.forwardedRef(ref);\n                }\n                else if (typeof _this.props.forwardedRef === 'object') {\n                    var forwardedRef = _this.props.forwardedRef;\n                    forwardedRef.current = ref;\n                }\n                else {\n                    throw new Error(\"Invalid forwardedRef \" + _this.props.forwardedRef);\n                }\n            }\n        };\n        _this.handleTransitionEnd = function (evt) {\n            if ((evt.target === _this.outerRef) && (evt.propertyName === 'height')) {\n                if (_this.state.childrenLeaving) {\n                    _this.setState({ children: null, childrenLeaving: false }, function () { return _this.endTransition(); });\n                }\n                else {\n                    _this.endTransition();\n                }\n            }\n        };\n        _this.state = {\n            children: props.children,\n            childrenLeaving: false\n        };\n        return _this;\n    }\n    SlideDownContent.prototype.componentDidMount = function () {\n        if (this.outerRef) {\n            if (this.props.closed || !this.props.children) {\n                this.outerRef.classList.add('closed');\n                this.outerRef.style.height = '0px';\n            }\n            else if (this.props.transitionOnAppear) {\n                this.startTransition('0px');\n            }\n            else {\n                this.outerRef.style.height = 'auto';\n            }\n        }\n    };\n    SlideDownContent.prototype.getSnapshotBeforeUpdate = function () {\n        return this.outerRef ? this.outerRef.getBoundingClientRect().height + 'px' : null;\n    };\n    SlideDownContent.getDerivedStateFromProps = function (props, state) {\n        if (props.children) {\n            return {\n                children: props.children,\n                childrenLeaving: false\n            };\n        }\n        else if (state.children) {\n            return {\n                children: state.children,\n                childrenLeaving: true\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    SlideDownContent.prototype.componentDidUpdate = function (_prevProps, _prevState, snapshot) {\n        if (this.outerRef) {\n            this.startTransition(snapshot);\n        }\n    };\n    SlideDownContent.prototype.startTransition = function (prevHeight) {\n        var endHeight = '0px';\n        if (!this.props.closed && !this.state.childrenLeaving && this.state.children) {\n            this.outerRef.classList.remove('closed');\n            this.outerRef.style.height = 'auto';\n            endHeight = getComputedStyle(this.outerRef).height;\n        }\n        if (parseFloat(endHeight).toFixed(2) !== parseFloat(prevHeight).toFixed(2)) {\n            this.outerRef.classList.add('transitioning');\n            this.outerRef.style.height = prevHeight;\n            this.outerRef.offsetHeight;\n            this.outerRef.style.transitionProperty = 'height';\n            this.outerRef.style.height = endHeight;\n        }\n    };\n    SlideDownContent.prototype.endTransition = function () {\n        this.outerRef.classList.remove('transitioning');\n        this.outerRef.style.transitionProperty = 'none';\n        this.outerRef.style.height = this.props.closed ? '0px' : 'auto';\n        if (this.props.closed || !this.state.children) {\n            this.outerRef.classList.add('closed');\n        }\n    };\n    SlideDownContent.prototype.render = function () {\n        var _a = this.props, _b = _a.as, as = _b === void 0 ? 'div' : _b, children = _a.children, className = _a.className, closed = _a.closed, transitionOnAppear = _a.transitionOnAppear, forwardedRef = _a.forwardedRef, rest = tslib_1.__rest(_a, [\"as\", \"children\", \"className\", \"closed\", \"transitionOnAppear\", \"forwardedRef\"]);\n        var containerClassName = className ? 'react-slidedown ' + className : 'react-slidedown';\n        return react_1.default.createElement(as, tslib_1.__assign({ ref: this.handleRef, className: containerClassName, onTransitionEnd: this.handleTransitionEnd }, rest), this.state.children);\n    };\n    SlideDownContent.defaultProps = {\n        transitionOnAppear: true,\n        closed: false\n    };\n    return SlideDownContent;\n}(react_1.Component));\nexports.SlideDown = react_1.forwardRef(function (props, ref) { return (react_1.default.createElement(SlideDownContent, tslib_1.__assign({}, props, { forwardedRef: ref }))); });\nexports.default = exports.SlideDown;\n//# sourceMappingURL=slidedown.js.map"]},"metadata":{},"sourceType":"script"}