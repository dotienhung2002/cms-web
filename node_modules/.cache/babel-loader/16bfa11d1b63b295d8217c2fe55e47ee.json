{"ast":null,"code":"import _slicedToArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ** React Imports\nimport{useEffect,Fragment,useState}from'react';import{Link}from'react-router-dom';// ** Custom Components\nimport NumberInput from'@Components/number-input';// ** Third Party Components\nimport{ShoppingCart,X}from'react-feather';import PerfectScrollbar from'react-perfect-scrollbar';import{Dropdown,DropdownMenu,DropdownToggle,DropdownItem,Media,Badge,Button}from'reactstrap';// ** Store & Actions\nimport{useDispatch,useSelector}from'react-redux';import{getCartItems,deleteCartItem,getProduct}from'@Views/apps/ecommerce/store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartDropdown=function CartDropdown(){// ** State\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),dropdownOpen=_useState2[0],setDropdownOpen=_useState2[1];// ** Store Vars\nvar dispatch=useDispatch();var store=useSelector(function(state){return state.ecommerce;});// ** ComponentDidMount\nuseEffect(function(){dispatch(getCartItems());},[]);// ** Function to toggle Dropdown\nvar toggle=function toggle(){return setDropdownOpen(function(prevState){return!prevState;});};// ** Function to call on Dropdown Item Click\nvar handleDropdownItemClick=function handleDropdownItemClick(id){dispatch(getProduct(id));toggle();};// ** Loops through Cart Array to return Cart Items\nvar renderCartItems=function renderCartItems(){if(store.cart.length){var total=0;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(PerfectScrollbar,{options:{wheelPropagation:false},className:\"scrollable-container media-list\",children:store.cart.map(function(item){total+=item.price;return/*#__PURE__*/_jsxs(Media,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block rounded mr-1\",src:item.image,alt:item.name,width:\"62\"}),/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(X,{size:14,className:\"cart-item-remove\",onClick:function onClick(){return dispatch(deleteCartItem(item.id));}}),/*#__PURE__*/_jsxs(\"div\",{className:\"media-heading\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"cart-item-title\",children:/*#__PURE__*/_jsx(Link,{className:\"text-body\",to:\"/apps/ecommerce/product/\".concat(item.slug),onClick:function onClick(){return handleDropdownItemClick(item.id);},children:item.name})}),/*#__PURE__*/_jsxs(\"small\",{className:\"cart-item-by\",children:[\"by \",item.brand]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-qty\",children:/*#__PURE__*/_jsx(NumberInput,{min:1,max:10,size:\"sm\",className:\"p-0\",value:item.qty,style:{width:'7rem',height:'2.15rem'}})}),/*#__PURE__*/_jsxs(\"h5\",{className:\"cart-item-price\",children:[\"$\",item.price]})]})]},item.id);})}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-menu-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-bolder mb-0\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-primary font-weight-bolder mb-0\",children:[\"$\",Number(total.toFixed(2))]})]}),/*#__PURE__*/_jsx(Button.Ripple,{tag:Link,to:\"/apps/ecommerce/checkout\",color:\"primary\",block:true,onClick:toggle,children:\"Checkout\"})]})]});}else{return/*#__PURE__*/_jsx(\"p\",{className:\"m-0 p-1 text-center\",children:\"Your cart is empty\"});}};return/*#__PURE__*/_jsxs(Dropdown,{isOpen:dropdownOpen,toggle:toggle,tag:\"li\",className:\"dropdown-cart nav-item mr-25\",children:[/*#__PURE__*/_jsxs(DropdownToggle,{tag:\"a\",className:\"nav-link position-relative\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"ficon\"}),store.cart.length>0?/*#__PURE__*/_jsx(Badge,{pill:true,color:\"primary\",className:\"badge-up\",children:store.cart.length}):null]}),/*#__PURE__*/_jsxs(DropdownMenu,{right:true,tag:\"ul\",className:\"dropdown-menu-media dropdown-cart mt-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"dropdown-menu-header\",children:/*#__PURE__*/_jsxs(DropdownItem,{tag:\"div\",className:\"d-flex\",header:true,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"notification-title mb-0 mr-auto\",children:\"My Cart\"}),/*#__PURE__*/_jsxs(Badge,{color:\"light-primary\",pill:true,children:[store.cart.length||0,\" Items\"]})]})}),renderCartItems()]})]});};export default CartDropdown;","map":{"version":3,"names":["useEffect","Fragment","useState","Link","NumberInput","ShoppingCart","X","PerfectScrollbar","Dropdown","DropdownMenu","DropdownToggle","DropdownItem","Media","Badge","Button","useDispatch","useSelector","getCartItems","deleteCartItem","getProduct","CartDropdown","dropdownOpen","setDropdownOpen","dispatch","store","state","ecommerce","toggle","prevState","handleDropdownItemClick","id","renderCartItems","cart","length","total","wheelPropagation","map","item","price","image","name","slug","brand","qty","width","height","Number","toFixed"],"sources":["/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/src/@core/layouts/components/navbar/CartDropdown.js"],"sourcesContent":["// ** React Imports\nimport { useEffect, Fragment, useState } from 'react'\nimport { Link } from 'react-router-dom'\n\n// ** Custom Components\nimport NumberInput from '@Components/number-input'\n\n// ** Third Party Components\nimport { ShoppingCart, X } from 'react-feather'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem, Media, Badge, Button } from 'reactstrap'\n\n// ** Store & Actions\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getCartItems, deleteCartItem, getProduct } from '@Views/apps/ecommerce/store/actions'\n\nconst CartDropdown = () => {\n  // ** State\n  const [dropdownOpen, setDropdownOpen] = useState(false)\n\n  // ** Store Vars\n  const dispatch = useDispatch()\n  const store = useSelector(state => state.ecommerce)\n\n  // ** ComponentDidMount\n  useEffect(() => {\n    dispatch(getCartItems())\n  }, [])\n\n  // ** Function to toggle Dropdown\n  const toggle = () => setDropdownOpen(prevState => !prevState)\n\n  // ** Function to call on Dropdown Item Click\n  const handleDropdownItemClick = id => {\n    dispatch(getProduct(id))\n    toggle()\n  }\n\n  // ** Loops through Cart Array to return Cart Items\n  const renderCartItems = () => {\n    if (store.cart.length) {\n      let total = 0\n\n      return (\n        <Fragment>\n          <PerfectScrollbar\n            options={{\n              wheelPropagation: false\n            }}\n            className='scrollable-container media-list'\n          >\n            {store.cart.map(item => {\n              total += item.price\n\n              return (\n                <Media key={item.id} className='align-items-center'>\n                  <img className='d-block rounded mr-1' src={item.image} alt={item.name} width='62' />\n                  <Media body>\n                    <X size={14} className='cart-item-remove' onClick={() => dispatch(deleteCartItem(item.id))} />\n                    <div className='media-heading'>\n                      <h6 className='cart-item-title'>\n                        <Link\n                          className='text-body'\n                          to={`/apps/ecommerce/product/${item.slug}`}\n                          onClick={() => handleDropdownItemClick(item.id)}\n                        >\n                          {item.name}\n                        </Link>\n                      </h6>\n                      <small className='cart-item-by'>by {item.brand}</small>\n                    </div>\n                    <div className='cart-item-qty'>\n                      <NumberInput\n                        min={1}\n                        max={10}\n                        size='sm'\n                        className='p-0'\n                        value={item.qty}\n                        style={{ width: '7rem', height: '2.15rem' }}\n                      />\n                    </div>\n                    <h5 className='cart-item-price'>${item.price}</h5>\n                  </Media>\n                </Media>\n              )\n            })}\n          </PerfectScrollbar>\n          <li className='dropdown-menu-footer'>\n            <div className='d-flex justify-content-between mb-1'>\n              <h6 className='font-weight-bolder mb-0'>Total:</h6>\n              <h6 className='text-primary font-weight-bolder mb-0'>${Number(total.toFixed(2))}</h6>\n            </div>\n            <Button.Ripple tag={Link} to='/apps/ecommerce/checkout' color='primary' block onClick={toggle}>\n              Checkout\n            </Button.Ripple>\n          </li>\n        </Fragment>\n      )\n    } else {\n      return <p className='m-0 p-1 text-center'>Your cart is empty</p>\n    }\n  }\n\n  return (\n    <Dropdown isOpen={dropdownOpen} toggle={toggle} tag='li' className='dropdown-cart nav-item mr-25'>\n      <DropdownToggle tag='a' className='nav-link position-relative'>\n        <ShoppingCart className='ficon' />\n        {store.cart.length > 0 ? (\n          <Badge pill color='primary' className='badge-up'>\n            {store.cart.length}\n          </Badge>\n        ) : null}\n      </DropdownToggle>\n      <DropdownMenu right tag='ul' className='dropdown-menu-media dropdown-cart mt-0'>\n        <li className='dropdown-menu-header'>\n          <DropdownItem tag='div' className='d-flex' header>\n            <h4 className='notification-title mb-0 mr-auto'>My Cart</h4>\n            <Badge color='light-primary' pill>\n              {store.cart.length || 0} Items\n            </Badge>\n          </DropdownItem>\n        </li>\n        {renderCartItems()}\n      </DropdownMenu>\n    </Dropdown>\n  )\n}\n\nexport default CartDropdown\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}