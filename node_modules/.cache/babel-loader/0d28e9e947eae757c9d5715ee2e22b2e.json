{"ast":null,"code":"import _objectSpread from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";// ** React Imports\nimport{useEffect}from'react';import{NavLink,useLocation,matchPath,useParams}from'react-router-dom';// ** Third Party Components\nimport{Badge}from'reactstrap';import classnames from'classnames';import{FormattedMessage}from'react-intl';// ** Vertical Menu Array Of Items\nimport navigation from'@src/navigation/vertical';// ** Utils\nimport{isNavLinkActive,search,getAllParents}from'@Layouts/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VerticalNavMenuLink=function VerticalNavMenuLink(_ref){var item=_ref.item,groupActive=_ref.groupActive,setGroupActive=_ref.setGroupActive,activeItem=_ref.activeItem,setActiveItem=_ref.setActiveItem,groupOpen=_ref.groupOpen,setGroupOpen=_ref.setGroupOpen,toggleActiveGroup=_ref.toggleActiveGroup,parentItem=_ref.parentItem,routerProps=_ref.routerProps,currentActiveItem=_ref.currentActiveItem;// ** Conditional Link Tag, if item has newTab or externalLink props use <a> tag else use NavLink\nvar LinkTag=item.externalLink?'a':NavLink;// ** URL Vars\nvar location=useLocation();var currentURL=location.pathname;// ** To match path\nvar match=matchPath(currentURL,{path:\"\".concat(item.navLink,\"/:param\"),exact:true,strict:false});// ** Search for current item parents\nvar searchParents=function searchParents(navigation,currentURL){var parents=search(navigation,currentURL,routerProps);// Search for parent object\nvar allParents=getAllParents(parents,'id');// Parents Object to Parents Array\nreturn allParents;};// ** URL Vars\nvar resetActiveGroup=function resetActiveGroup(navLink){var parents=search(navigation,navLink,match);toggleActiveGroup(item.id,parents);};// ** Reset Active & Open Group Arrays\nvar resetActiveAndOpenGroups=function resetActiveAndOpenGroups(){setGroupActive([]);setGroupOpen([]);};// ** Checks url & updates active item\nuseEffect(function(){if(currentActiveItem!==null){setActiveItem(currentActiveItem);var arr=searchParents(navigation,currentURL);setGroupActive(_toConsumableArray(arr));}},[location]);return/*#__PURE__*/_jsx(\"li\",{className:classnames({'nav-item':!item.children,disabled:item.disabled,active:item.navLink===activeItem}),children:/*#__PURE__*/_jsxs(LinkTag,_objectSpread(_objectSpread({className:\"d-flex align-items-center\",target:item.newTab?'_blank':undefined/*eslint-disable */},item.externalLink===true?{href:item.navLink||'/'}:{to:item.navLink||'/',isActive:function isActive(match,location){if(!match){return false;}if(match.url&&match.url!==''&&match.url===item.navLink){currentActiveItem=item.navLink;}}}),{},{/*eslint-enable */onClick:function onClick(e){if(!item.navLink.length){e.preventDefault();}parentItem?resetActiveGroup(item.navLink):resetActiveAndOpenGroups();},children:[item.icon,/*#__PURE__*/_jsx(\"span\",{className:\"menu-item text-truncate\",children:item.title}),item.badge&&item.badgeText?/*#__PURE__*/_jsx(Badge,{className:\"ml-auto mr-1\",color:item.badge,pill:true,children:item.badgeText}):null]}))});};export default VerticalNavMenuLink;","map":{"version":3,"names":["useEffect","NavLink","useLocation","matchPath","useParams","Badge","classnames","FormattedMessage","navigation","isNavLinkActive","search","getAllParents","VerticalNavMenuLink","item","groupActive","setGroupActive","activeItem","setActiveItem","groupOpen","setGroupOpen","toggleActiveGroup","parentItem","routerProps","currentActiveItem","LinkTag","externalLink","location","currentURL","pathname","match","path","navLink","exact","strict","searchParents","parents","allParents","resetActiveGroup","id","resetActiveAndOpenGroups","arr","children","disabled","active","newTab","undefined","href","to","isActive","url","e","length","preventDefault","icon","title","badge","badgeText"],"sources":["/Users/abc/Downloads/Workspace/projectFPT/cms-fusamate/cms-fusamate/cms-fusamte/src/@core/layouts/components/menu/vertical-menu/VerticalNavMenuLink.js"],"sourcesContent":["// ** React Imports\nimport { useEffect } from 'react'\nimport { NavLink, useLocation, matchPath, useParams } from 'react-router-dom'\n\n// ** Third Party Components\nimport { Badge } from 'reactstrap'\nimport classnames from 'classnames'\nimport { FormattedMessage } from 'react-intl'\n\n// ** Vertical Menu Array Of Items\nimport navigation from '@src/navigation/vertical'\n\n// ** Utils\nimport { isNavLinkActive, search, getAllParents } from '@Layouts/utils'\n\nconst VerticalNavMenuLink = ({\n  item,\n  groupActive,\n  setGroupActive,\n  activeItem,\n  setActiveItem,\n  groupOpen,\n  setGroupOpen,\n  toggleActiveGroup,\n  parentItem,\n  routerProps,\n  currentActiveItem\n}) => {\n  // ** Conditional Link Tag, if item has newTab or externalLink props use <a> tag else use NavLink\n  const LinkTag = item.externalLink ? 'a' : NavLink\n\n  // ** URL Vars\n  const location = useLocation()\n  const currentURL = location.pathname\n\n  // ** To match path\n  const match = matchPath(currentURL, {\n    path: `${item.navLink}/:param`,\n    exact: true,\n    strict: false\n  })\n\n  // ** Search for current item parents\n  const searchParents = (navigation, currentURL) => {\n    const parents = search(navigation, currentURL, routerProps) // Search for parent object\n    const allParents = getAllParents(parents, 'id') // Parents Object to Parents Array\n    return allParents\n  }\n\n  // ** URL Vars\n  const resetActiveGroup = navLink => {\n    const parents = search(navigation, navLink, match)\n    toggleActiveGroup(item.id, parents)\n  }\n\n  // ** Reset Active & Open Group Arrays\n  const resetActiveAndOpenGroups = () => {\n    setGroupActive([])\n    setGroupOpen([])\n  }\n\n  // ** Checks url & updates active item\n  useEffect(() => {\n    if (currentActiveItem !== null) {\n      setActiveItem(currentActiveItem)\n      const arr = searchParents(navigation, currentURL)\n      setGroupActive([...arr])\n    }\n  }, [location])\n\n  return (\n    <li\n      className={classnames({\n        'nav-item': !item.children,\n        disabled: item.disabled,\n        active: item.navLink === activeItem\n      })}\n    >\n      <LinkTag\n        className='d-flex align-items-center'\n        target={item.newTab ? '_blank' : undefined}\n        /*eslint-disable */\n        {...(item.externalLink === true\n          ? {\n              href: item.navLink || '/'\n            }\n          : {\n              to: item.navLink || '/',\n              isActive: (match, location) => {\n                if (!match) {\n                  return false\n                }\n\n                if (match.url && match.url !== '' && match.url === item.navLink) {\n                  currentActiveItem = item.navLink\n                }\n              }\n            })}\n        /*eslint-enable */\n        onClick={e => {\n          if (!item.navLink.length) {\n            e.preventDefault()\n          }\n          parentItem ? resetActiveGroup(item.navLink) : resetActiveAndOpenGroups()\n        }}\n      >\n        {item.icon}\n        <span className='menu-item text-truncate'>\n          {item.title}\n        </span>\n\n        {item.badge && item.badgeText ? (\n          <Badge className='ml-auto mr-1' color={item.badge} pill>\n            {item.badgeText}\n          </Badge>\n        ) : null}\n      </LinkTag>\n    </li>\n  )\n}\n\nexport default VerticalNavMenuLink\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}